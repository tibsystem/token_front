window.addEventListener("load",function(){var t=document.getElementById("tree-view"),a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)try{var e=JSON.parse(a.responseText);t.innerHTML="",!function e(t,a,n){var r=document.createElement("div");r.className="tree-item "+("directory"===t.type?"directory-item":"file-item");"directory"===t.type&&n<=2?r.className+=" expanded":"directory"===t.type&&(r.className+=" collapsed");var d=document.createElement("div"),i=(d.className="tree-item-content",document.createElement("span")),i=(i.className="toggle-icon",d.appendChild(i),document.createElement("span")),i=(i.className="tree-item-icon "+("directory"===t.type?"directory-icon":"file-icon"),i.innerHTML="directory"===t.type?"📁":"📄",d.appendChild(i),document.createElement("span"));if(i.className="tree-item-name",i.textContent=t.name,d.appendChild(i),t.path&&((i=document.createElement("span")).className="path",i.textContent=t.path,d.appendChild(i)),r.appendChild(d),"directory"===t.type&&t.children&&0<t.children.length){var c=document.createElement("div"),s=(c.className="tree-item-children",t.children.slice());s.sort(function(e,t){return e.type===t.type?e.name.localeCompare(t.name):"directory"===e.type?-1:1});for(var o=0;o<s.length;o++)e(s[o],c,n+1);r.appendChild(c),d.addEventListener("click",function(e){e.stopPropagation(),r.classList.contains("expanded")?(r.classList.remove("expanded"),r.classList.add("collapsed")):(r.classList.remove("collapsed"),r.classList.add("expanded"))})}a.appendChild(r)}(e,t,1)}catch(e){t.innerHTML='<div class="error">Error parsing JSON data: '+e.message+"</div>"}else t.innerHTML='<div class="error">Failed to load directory data. Status: '+a.status+"</div>"},a.open("GET","json/directory-tree.json",!0),a.send()});