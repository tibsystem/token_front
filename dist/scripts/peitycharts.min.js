import{PeityAPI}from"./thirdparty/peity/peity.es6.min.js";document.addEventListener("DOMContentLoaded",function(){"use strict";const o={donutBackground:"var(--bs-border-color)",pieBackground:"var(--bs-border-color)"};function t(r,a,n={}){document.querySelectorAll(r).forEach(t=>{let e={...n};var i=t.getAttribute("data-peity");if(i)try{e={...e,...JSON.parse(i)}}catch(t){console.warn("Invalid data-peity format for",r)}"donut"!==a&&"pie"!==a||(e.fill&&0!==e.fill.length?Array.isArray(e.fill)&&1===e.fill.length&&e.fill.push("donut"===a?o.donutBackground:o.pieBackground):e.fill="donut"===a?["var(--primary-500)",o.donutBackground]:["var(--primary-500)",o.pieBackground]),PeityAPI.create(t,a,e)})}try{t(".peity-pie","pie"),t(".peity-donut","donut"),t(".peity-line","line"),t(".peity-bar","bar");const e=document.querySelector(".updating-chart");if(e){const i=e.textContent.split(",").map(Number),r=PeityAPI.create(e,"line",{width:200,height:40,stroke:"var(--info-500)",fill:"var(--info-200)",min:0,max:10});setInterval(function(){i.shift(),i.push(Math.floor(10*Math.random())),e.textContent=i.join(","),r.draw()},500)}document.querySelectorAll(".bar-negative").forEach(t=>{var e=t.textContent.split(",").map(Number);PeityAPI.create(t,"bar",{height:40,width:110,fill:e.map(t=>0<t?"var(--success-500)":"var(--danger-500)")})}),document.querySelectorAll(".bar-transition").forEach(t=>{var e=t.textContent.split(",").map(Number);PeityAPI.create(t,"bar",{height:40,width:110,fill:e.map((t,e,i)=>{e=parseInt(e/i.length*255);return`rgb(255, ${e}, ${e})`})})}),document.querySelectorAll("[data-peity]").forEach(i=>{if(!(i.classList.contains("peity-pie")||i.classList.contains("peity-donut")||i.classList.contains("peity-line")||i.classList.contains("peity-bar")||i.classList.contains("updating-chart")||i.classList.contains("bar-negative")||i.classList.contains("bar-transition"))){var r=i.textContent.trim();let t,e=(t=r.includes("/")?"donut":r.includes(",")?r.split(",").some(t=>parseFloat(t)<0)?"bar":"line":"pie",{});var a=i.getAttribute("data-peity");if(a)try{e=JSON.parse(a)}catch(t){console.warn("Invalid data-peity format for element",i)}"donut"!==t&&"pie"!==t||!r.includes("/")||e.fill&&Array.isArray(e.fill)&&!(e.fill.length<2)||(e.fill=e.fill||[],1===e.fill.length?e.fill.push("donut"===t?o.donutBackground:o.pieBackground):e.fill=["donut"===t?"var(--primary-500)":"var(--success-500)","donut"===t?o.donutBackground:o.pieBackground]),PeityAPI.create(i,t,e)}})}catch(t){console.error("Error initializing Peity charts:",t)}});