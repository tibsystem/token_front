let currentSvgWeight="sa-thin",isNoFill=!1,allIcons=[],searchHistory=new Set,searchTimeout=null,currentToast=null,iconMappings={},currentSearchTerm="",currentIconSet="sa";const styleSheets={sa:null,base:null,svg:null,fal:"./css/fa-light.css",fas:"./css/fa-solid.css",far:"./css/fa-regular.css",fab:"./css/fa-brands.css",fad:"./css/duotone.css",material:"./css/material-icons.css"};function updateStylesheet(e){var s=document.getElementById("dynamic-style")||document.createElement("link");s.id||(s.id="dynamic-style",s.rel="stylesheet",document.head.appendChild(s)),styleSheets[e]?(s.href=styleSheets[e],s.onload=()=>console.log(e+" stylesheet loaded"),s.onerror=()=>console.error(`Failed to load ${e} stylesheet`)):s.removeAttribute("href")}function findSemanticMatches(s){if(s=s.toLowerCase().replace(/\s+/g,"-"),iconMappings[s])return iconMappings[s];var e=Object.keys(iconMappings).filter(e=>{e=e.toLowerCase().replace(/\s+/g,"-").replace(/^-/,"");return e.includes(s)||s.includes(e)});if(0<e.length)return e.flatMap(e=>iconMappings[e]);for(const t in iconMappings){var n=Object.keys(iconMappings[t]).filter(e=>{e=e.toLowerCase().replace(/\s+/g,"-").replace(/^-/,"");return e.includes(s)||s.includes(e)});if(0<n.length)return n.flatMap(e=>iconMappings[t][e])}return null}function findSuggestions(n){var e;return!n||n.length<2?[]:(e=findSemanticMatches(n=n.replace(/\s+/g,"-").replace(/^-/,"")))?[...new Set(e)].filter(e=>allIcons.includes("-"+e)||allIcons.includes(e)).map(e=>e.replace(/^-/,"")):allIcons.map(e=>{e=e.startsWith("-")?e.substring(1):e;return{name:e,distance:levenshteinDistance(n.toLowerCase(),e.toLowerCase())}}).filter(e=>{var s=Math.min(Math.floor(.4*n.length),3);return 0<e.distance&&e.distance<=s}).sort((e,s)=>e.distance-s.distance).slice(0,3).map(e=>e.name)}function levenshteinDistance(n,t){if(0===n.length)return t.length;if(0===t.length)return n.length;var a=Array(t.length+1).fill(null).map(()=>Array(n.length+1).fill(null));for(let e=0;e<=t.length;e++)a[e][0]=e;for(let e=0;e<=n.length;e++)a[0][e]=e;for(let s=1;s<=t.length;s++)for(let e=1;e<=n.length;e++)a[s][e]=t.charAt(s-1)===n.charAt(e-1)?a[s-1][e-1]:Math.min(a[s-1][e-1]+1,a[s][e-1]+1,a[s-1][e]+1);return a[t.length][n.length]}function initializeFilter(){document.getElementById("searchIcons").addEventListener("input",function(){currentSearchTerm=this.value.trim().replace(/^-/,""),filterIcons()})}function filterIcons(){const t=currentSearchTerm.toLowerCase().split(/\s+/).filter(e=>0<e.length).map(e=>e.replace(/^-/,""));document.querySelectorAll("#iconList li").forEach(e=>{const s=e.textContent.toLowerCase().replace(/^-/,"");var n=t.every(e=>s.includes(e));e.classList.toggle("js-filter-hide",!n)}),updateVisibleCount(),searchTimeout&&clearTimeout(searchTimeout),searchTimeout=setTimeout(()=>updateSearchHistory(currentSearchTerm),1e3);var e=document.querySelectorAll("#iconList li:not(.js-filter-hide)").length,s=document.getElementById("suggestions");2<=currentSearchTerm.length&&e<10?(e=findSuggestions(currentSearchTerm),s.innerHTML=0<e.length?'<span class="suggest-title">Did you mean?</span> '+e.map(e=>`<span class="suggestion px-1" onclick="applySearch('${e}')">${e}</span>`).join(" "):""):s.innerHTML=""}async function loadIconSet(n="sa"){var e={sa:{icons:"json/sa-icons.json",mappings:"json/sa-mappings.json",prefix:"sa"},base:{icons:"json/sa-base.json",mappings:"json/sa-mappings.json",prefix:"sa"},svg:{icons:"json/sa-svg-icons.json",mappings:"json/sa-svg-mappings.json",prefix:"svg"},fal:{icons:"json/fa-icons.json",mappings:"json/fa-mappings.json",prefix:"fal"},fas:{icons:"json/fa-icons.json",mappings:"json/fa-mappings.json",prefix:"fas"},far:{icons:"json/fa-icons.json",mappings:"json/fa-mappings.json",prefix:"far"},fad:{icons:"json/fa-duotone.json",mappings:"json/fa-mappings.json",prefix:"fad"},fab:{icons:"json/fa-brands.json",mappings:"json/fa-mappings.json",prefix:"fab"},material:{icons:"json/material-icons.json",mappings:"json/material-mappings.json",prefix:"material"}},e=e[n]||e.sa;if(allIcons.length&&("sa"===currentIconSet||"svg"===currentIconSet)==("sa"===n||"svg"===n))updateStylesheet(currentIconSet=n),document.querySelectorAll("#iconList li").forEach(e=>{var s=e.dataset.iconName.replace(/^-/,"");e.querySelector(".icon-container").innerHTML=getIconClass(n,s)});else try{var[s,t]=await Promise.all([fetch(e.icons),fetch(e.mappings)]);if(!s.ok||!t.ok)throw new Error("Failed to load resources");allIcons=(await s.json()).map(e=>e.replace(/^-/,"")),iconMappings=await t.json(),updateStylesheet(currentIconSet=n),generateIconList(allIcons,e.prefix),initializeFilter()}catch(e){console.error("Error loading icon set:",e)}currentSearchTerm&&filterIcons(),updateVisibleCount()}function generateIconList(e,n){document.getElementById("iconList").innerHTML=e.map(e=>{var e=e.replace(/^-/,""),s=getIconClass(n,e);return`
            <li class="col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2 col-xxl-2 col-xxxl-1 d-flex justify-content-center align-items-center mb-g" data-icon-name="${e}">
                <a href="#" class="js-showcase-icon rounded color-fusion-300 p-0 m-0 d-flex flex-column w-100 shadow-hover-2 ${"svg"===n?"has-svg":""}">
                    <div class="icon-preview rounded-top w-100 position-relative">
                        <div class="icon-container rounded-top d-flex align-items-center justify-content-center w-100 pt-3 pb-3 pe-2 ps-2 position-absolute">
                            ${s}
                        </div>
                    </div>
                    <div class="rounded-bottom p-1 w-100 d-flex justify-content-center align-items-center text-center mt-auto">
                        <span class="nav-link-text small text-muted text-truncate">${e}</span>
                    </div>
                </a>
            </li>
        `}).join(""),updateVisibleCount(),addIconClickHandlers()}function updateSearchHistory(e){e&&2<=e.length&&(searchHistory.add(e.replace(/^-/,"")),5<searchHistory.size&&searchHistory.delete([...searchHistory][0]),renderSearchHistory())}function renderSearchHistory(){document.getElementById("searchHistory").innerHTML=[...searchHistory].map(e=>`<span class="badge bg-secondary me-1" onclick="applySearch('${e}')">
            <span class="text-truncate-xs overflow-hidden">${e}</span>
            <i class="sa sa-close ms-1" onclick="event.stopPropagation(); removeFromHistory('${e}')"></i>
        </span>`).join("")}function removeFromHistory(e){searchHistory.delete(e),renderSearchHistory()}function applySearch(e){document.getElementById("searchIcons").value=e.replace(/^-/,""),currentSearchTerm=e.replace(/^-/,""),filterIcons()}function updateVisibleCount(){var e=document.querySelectorAll("#iconList li:not(.js-filter-hide)").length;document.querySelector(".results-count").textContent=`Showing ${e} of ${allIcons.length} icons`}const getIconClass=(e,s)=>{var n=s.replace(/^-/,"");switch(e){case"svg":return`<svg class="sa-icon ${currentSvgWeight}${isNoFill?" sa-nofill":""}"><use href="img/sprite.svg#${n}"></use></svg>`;case"fal":return`<i class="fal fa-${n}"></i>`;case"fas":return`<i class="fas fa-${n}"></i>`;case"far":return`<i class="far fa-${n}"></i>`;case"fad":return`<i class="fad fa-${n}"></i>`;case"fab":return`<i class="fab fa-${n}"></i>`;case"material":return`<i class="material-icons">${n}</i>`;case"sa":return`<i class="sa sa-${n}"></i>`;case"base":return`<i class="sa base-${n}"></i>`;default:return`<i class="${e} ${e}-${n}"></i>`}};function addIconClickHandlers(){document.querySelectorAll(".js-showcase-icon").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var s,e=this.querySelector("svg")||this.querySelector("i");e&&("svg"===e.tagName.toLowerCase()?(s=(s=e.querySelector("use"))?s.getAttribute("href"):null)&&(copyToClipboard(s=`<svg class="sa-icon ${currentSvgWeight}${isNoFill?" sa-nofill":""}"><use href="${s}"></use></svg>`),showToast(s)):(copyToClipboard(s=e.className),showToast(s)))})})}function copyToClipboard(e){let s=e;var n,t;e.includes("sprite.svg#")&&(n=currentSvgWeight,t=isNoFill?" sa-nofill":"",s=`<svg class="sa-icon ${n}${t}"><use href="${e.split('href="')[1].split('"')[0]}"></use></svg>`),navigator.clipboard.writeText(s).then(()=>console.log("Icon class/markup copied:",s)).catch(e=>console.error("Failed to copy:",e))}function escapeHTML(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"'")}function showToast(e){currentToast&&currentToast.hide();var s,n=document.getElementById("liveToast"),t=n.querySelector(".toast-body");e.includes("sprite.svg#")?(s=e.split("#")[1].split('"')[0],t.innerHTML=e+`<span class="fw-bold ms-2"><span class="disabled">'#${s}'</span>  &#x2714;copied</span>`):(s=`<i class="${escapeHTML(e)} display-1 p-1 m-0 me-2 text-primary"></i>`,t.innerHTML=s+`<span class="fw-bold"><span class="disabled">'${escapeHTML(e)}'</span> &#x2714;copied</span>`),currentToast=new bootstrap.Toast(n,{delay:2500,animation:!0,autohide:!0}),n.addEventListener("hidden.bs.toast",()=>{currentToast=null},{once:!0}),currentToast.show()}function updateSvgClasses(){document.querySelectorAll("#iconList li").forEach(e=>{var s,n,e=e.querySelector("svg");e&&(s=currentSvgWeight,n=isNoFill?" sa-nofill":"",e.setAttribute("class","sa-icon "+s+n))})}