import ApexCharts from"./thirdparty/apexchart/apexchartsWrapper.js";document.addEventListener("DOMContentLoaded",function(){"use strict";document.getElementById("subscription-chart")&&(e={series:[{name:"Visits",type:"area",data:[23686,30820,59622,146465,78160,79520,36148,48721,158303,155174,104830,86895]},{name:"Subscriptions",type:"line",data:[1545,1350,1270,1830,1955,1865,2034,2544,1956,2211,1540,1670]}],chart:{height:335,type:"line",zoom:{enabled:!(e=["2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08","2025-09","2025-10","2025-11","2025-12"])},stacked:!1,toolbar:{show:!1},fontFamily:"inherit",parentHeightOffset:0},colors:[window.colorMap.bootstrapVars.bodyColor.rgba(.1),window.colorMap.primary[400].hex],stroke:{width:[1,2],curve:"smooth",colors:[window.colorMap.bootstrapVars.bodyColor.rgba(.8),window.colorMap.primary[400].hex],dashArray:[4,0]},fill:{type:["solid","solid"],opacity:[.15,1]},markers:{size:[3,3],colors:[window.colorMap.bootstrapVars.bodyColor.rgba(.7),window.colorMap.primary[600].hex],strokeColors:[window.colorMap.bootstrapVars.bodyColor.rgba(.7),window.colorMap.primary[600].hex],strokeWidth:2,hover:{sizeOffset:2}},xaxis:{categories:e,labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"12px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:[{seriesName:"Visits",min:2e4,max:17e4,tickAmount:6,labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"12px"},formatter:function(e){return e.toLocaleString()}}},{seriesName:"Subscriptions",opposite:!0,min:1200,max:2700,tickAmount:6,labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"12px"},formatter:function(e){return e.toLocaleString()}}}],legend:{show:!0,position:"top",horizontalAlign:"center",fontSize:"14px",fontFamily:"inherit",labels:{colors:window.colorMap.bootstrapVars.bodyColor.hex},markers:{width:18,height:6,radius:2},itemMargin:{horizontal:12,vertical:0}},grid:{borderColor:window.colorMap.bootstrapVars.bodyColor.rgba(.1),strokeDashArray:3,yaxis:{lines:{show:!0}},xaxis:{lines:{show:!1}}},tooltip:{shared:!0,intersect:!1,theme:"dark",y:[{formatter:function(e){return e.toLocaleString()}},{formatter:function(e){return e.toLocaleString()}}]}},new ApexCharts(document.getElementById("subscription-chart"),e).render()),document.getElementById("user-activity-chart")&&(e={series:[{name:"Morning",data:[65,59,90,81,56,55,40]},{name:"Night",data:[28,48,40,19,96,27,100]}],chart:{height:350,width:"100%",type:"radar",toolbar:{show:!1},fontFamily:"inherit",parentHeightOffset:0,sparkline:{enabled:!1},margin:0,padding:{top:-10,right:-10,bottom:-10,left:-10}},colors:[window.colorMap.success[400].hex,window.colorMap.primary[400].hex],stroke:{width:0,colors:[window.colorMap.success[400].hex,window.colorMap.primary[400].hex]},fill:{opacity:.2},markers:{size:5,colors:[window.colorMap.success[400].hex,window.colorMap.primary[400].hex],strokeColors:"#fff",strokeWidth:2,hover:{sizeOffset:2}},xaxis:{categories:["Blogging","Videos","Ads","Comments","Shares","Likes","Funny"],labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"10px"}}},yaxis:{max:100,tickAmount:5,show:!0,labels:{show:!0,style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"10px"}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontSize:"14px",fontFamily:"inherit",labels:{colors:window.colorMap.bootstrapVars.bodyColor.hex},markers:{width:18,height:6,radius:2},itemMargin:{horizontal:12,vertical:0}},tooltip:{theme:"dark",y:{formatter:function(e){return e}}},grid:{borderColor:window.colorMap.bootstrapVars.bodyColor.rgba(.1),strokeDashArray:3},plotOptions:{radar:{size:void 0,offsetX:0,offsetY:0,padding:0,polygons:{strokeColors:window.colorMap.bootstrapVars.bodyColor.rgba(.1),connectorColors:window.colorMap.bootstrapVars.bodyColor.rgba(.1),fill:{colors:void 0}}}}},new ApexCharts(document.getElementById("user-activity-chart"),e).render()),document.getElementById("data-stream-chart")&&(e={series:[{name:"Positive",data:[0,25,70,85,25,0,60]},{name:"Negative",data:[-45,-50,-30,-25,-60,-120,0]}],chart:{type:"bar",height:350,maxHeight:"100%",stacked:!0,toolbar:{show:!1},fontFamily:"inherit",parentHeightOffset:0},colors:[window.colorMap.success[400].hex,window.colorMap.primary[500].hex],plotOptions:{bar:{columnWidth:"50%",borderRadius:1}},dataLabels:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"],labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"12px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{min:-150,max:150,tickAmount:6,labels:{style:{colors:window.colorMap.bootstrapVars.bodyColor.hex,fontSize:"12px"},formatter:function(e){return e}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontSize:"14px",fontFamily:"inherit",labels:{colors:window.colorMap.bootstrapVars.bodyColor.hex},markers:{width:18,height:6,radius:2},itemMargin:{horizontal:12,vertical:0}},grid:{borderColor:window.colorMap.bootstrapVars.bodyColor.rgba(.1),strokeDashArray:3,yaxis:{lines:{show:!0}},xaxis:{lines:{show:!0}}},tooltip:{shared:!0,intersect:!1,theme:"dark",y:{formatter:function(e){return e}}}},new ApexCharts(document.getElementById("data-stream-chart"),e).render()),document.getElementById("demographic-marketing-chart")&&(e={series:[25,30,15,10,20],chart:{type:"pie",height:350,maxHeight:"100%",toolbar:{show:!1},fontFamily:"inherit",parentHeightOffset:0},colors:[window.colorMap.primary[100].hex,window.colorMap.primary[400].hex,window.colorMap.success[100].hex,window.colorMap.success[300].hex,window.colorMap.success[500].hex],labels:["USA","Germany","Australia","Canada","France"],dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:"0%"}}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",fontFamily:"inherit",labels:{colors:window.colorMap.bootstrapVars.bodyColor.hex},markers:{width:12,height:12,radius:2},itemMargin:{horizontal:10,vertical:2}},tooltip:{theme:"dark",y:{formatter:function(e){return e+"%"}},style:{fontSize:"14px",fontFamily:"inherit"},custom:function({series:e,seriesIndex:o,w:t}){return'<div class="apexcharts-tooltip-box" style="padding: 2px 7px; background-color: var(--bs-body-bg);"><span style="color: var(--bs-body-color); font-size: 0.825rem !important;">'+t.globals.labels[o]+": "+e[o]+"%</span></div>"}},stroke:{width:1,colors:["var(--bs-body-bg)"]}},new ApexCharts(document.getElementById("demographic-marketing-chart"),e).render());const o=document.getElementById("discountAmount"),t=document.getElementById("discountAmountValue");o&&t&&o.addEventListener("input",function(){t.textContent=this.value});var e=document.querySelectorAll('input[name="offerType"]');const a=document.getElementById("discountAmount")?.closest(".mb-3"),r=(e.length&&a&&e.forEach(e=>{e.addEventListener("change",function(){a.style.display="discount"===this.value?"block":"none"})}),document.getElementById("targetAudience"));r&&r.addEventListener("change",function(){var e;"custom"===this.value?document.getElementById("customAudienceOptions")?document.getElementById("customAudienceOptions").style.display="block":((e=document.createElement("div")).id="customAudienceOptions",e.className="mt-3 p-3 border border-light rounded",e.innerHTML=`
                        <p class="fw-bold mb-2">Define Custom Audience</p>
                        <div class="mb-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="segmentRecent">
                                <label class="form-check-label" for="segmentRecent">
                                    Recently active (last 30 days)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="segmentHighValue">
                                <label class="form-check-label" for="segmentHighValue">
                                    High-value subscribers
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="segmentLocation">
                                <label class="form-check-label" for="segmentLocation">
                                    Specific locations
                                </label>
                            </div>
                        </div>
                    `,r.parentNode.appendChild(e)):document.getElementById("customAudienceOptions")&&(document.getElementById("customAudienceOptions").style.display="none")});e=document.getElementById("campaignType"),e&&e.addEventListener("change",function(){var e=document.querySelectorAll('input[name="offerType"]');switch(this.value){case"acquisition":e.forEach(e=>{"freeTrial"===e.value?e.checked=!0:e.checked=!1}),document.getElementById("offerFreeTrial").dispatchEvent(new Event("change"));break;case"retention":e.forEach(e=>{"discount"===e.value?e.checked=!0:e.checked=!1}),document.getElementById("offerDiscount").dispatchEvent(new Event("change")),o&&(o.value=25,t.textContent="25");break;case"upgrade":e.forEach(e=>{"upgrade"===e.value?e.checked=!0:e.checked=!1}),document.getElementById("offerUpgrade").dispatchEvent(new Event("change"));break;case"winback":e.forEach(e=>{"bundle"===e.value?e.checked=!0:e.checked=!1}),document.getElementById("offerBundle").dispatchEvent(new Event("change"))}}),e=document.getElementById("saveDraftBtn"),e&&e.addEventListener("click",function(){document.getElementById("campaignName").value?n("success","Campaign draft saved successfully"):n("danger","Please enter a campaign name")}),e=document.getElementById("launchCampaignBtn");function n(e,o){let t=document.querySelector(".campaign-alert-container");t||((t=document.createElement("div")).className="campaign-alert-container position-fixed top-0 end-0 p-3",t.style.zIndex="5000",document.body.appendChild(t));const a=document.createElement("div");a.className=`alert alert-${e} alert-dismissible fade show`,a.innerHTML=`
            ${o}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        `,t.appendChild(a),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{a.remove()},150)},5e3)}e&&e.addEventListener("click",function(){var e=document.getElementById("campaignName").value,o=document.getElementById("campaignType").value,t=document.getElementById("startDate").value,a=document.getElementById("targetAudience").value;e&&o&&t&&a?(n("success","Campaign launched successfully!"),setTimeout(()=>{var e=bootstrap.Modal.getInstance(document.getElementById("buildCampaignModal"));e&&e.hide()},1500)):n("danger","Please fill in all required fields")}),document.getElementById("discountAmount").addEventListener("input",function(){document.getElementById("discountAmountValue").textContent=this.value+"%"}),document.querySelectorAll('input[name="offerType"]').forEach(e=>{e.addEventListener("change",function(){document.getElementById("discountSection").style.display="discount"===this.value?"block":"none"})})});