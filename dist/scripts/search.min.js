document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#tab-images");if(e){const i=document.createElement("div"),n=(i.className="modal fade image-preview-modal",i.id="imagePreviewModal",i.tabIndex="-1",i.setAttribute("aria-hidden","true"),i.innerHTML=`
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body p-0 position-relative d-flex align-items-center justify-content-center">
                        <div class="d-flex flex-column flex-lg-row shadow rounded overflow-hidden border border-3 border-light">
                            <!-- Left Info Panel -->
                            <div class="order-2 order-lg-1 flex-shrink-0" style="width: 300px;">
                                <div class="d-flex flex-column h-100 p-0">
                                    <div class="flex-grow-1 p-3">
                                        <h5 class="image-title fw-bold mb-3"></h5>
                                        <p class="image-description text-muted mb-4"></p>
                                        
                                        <div class="mb-3">
                                            <div class="text-muted mb-1 fs-sm">Date</div>
                                            <div class="image-date"></div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <div class="text-muted mb-1 fs-sm">Source</div>
                                            <div class="image-source text-primary text-decoration-underline link-offset-1 link-underline link-underline-opacity-75"></div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <div class="text-muted mb-1 fs-sm">Tags</div>
                                            <div class="image-category badge bg-secondary"></div>
                                        </div>
                                    </div>
                                    <div class="px-3 pt-2 pb-0">
                                        <p class="text-muted fs-nano mb-2">
                                            Images may be subject to copyright. Please check the source for more information.
                                        </p>
                                        <div class="d-flex gap-2 pb-3">
                                            <button type="button" class="btn btn-default btn-sm flex-grow-1">
                                                Save
                                            </button>
                                            <button type="button" class="btn btn-default btn-sm flex-grow-1">
                                                Share
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Image Container -->
                            <div class="position-relative bg-light order-1 order-lg-2" style="width: auto; height: auto; max-height: 90vh;">
                                <button type="button" class="btn btn-icon btn-danger border border-dark position-absolute top-0 end-0 m-2 z-1" data-bs-dismiss="modal" aria-label="Close">
                                    <svg class="sa-icon sa-bold sa-icon-2x sa-icon-light">
                                        <use href="img/sprite.svg#x"></use>
                                    </svg>
                                </button>
                                <div class="d-flex align-items-center justify-content-center h-100 p-0">
                                    <button type="button" class="btn btn-icon align-items-center justify-content-center text-light btn-dark bg-dark bg-opacity-50 rounded-circle position-absolute top-50 start-0 translate-middle-y ms-4 d-none d-sm-flex fs-3 z-1" id="prevImage">
                                        <i class="sa sa-chevron-left"></i>
                                    </button>
                                    
                                    <img src="" class="img-preview" style="max-height: 90vh; max-width: 100%; object-fit: contain;" alt="Preview">
                                    
                                    <button type="button" class="btn btn-icon align-items-center justify-content-center text-light btn-dark bg-dark bg-opacity-50 rounded-circle position-absolute top-50 end-0 translate-middle-y me-4 d-none d-sm-flex fs-3 z-1" id="nextImage">
                                        <i class="sa sa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,document.body.appendChild(i),new bootstrap.Modal(i)),t=e.querySelectorAll('a[href="#"]');let a=0;t.forEach((t,i)=>{t.addEventListener("click",e=>{e.preventDefault(),s(t.querySelector("img").src.replace(/(\.[^.]+)$/,"-big$1"),t),n.show(),a=i,o()})});const d=i.querySelector("#prevImage"),r=i.querySelector("#nextImage");function s(e,t){i.querySelector(".img-preview").src=e,i.querySelector(".image-title").textContent=t.dataset.imgTitle||"",i.querySelector(".image-description").textContent=t.dataset.imgDescription||"",i.querySelector(".image-category").textContent=t.dataset.imgCategory||"",i.querySelector(".image-date").textContent=t.dataset.imgDate||"",i.querySelector(".image-source").textContent=t.dataset.imgSource||""}function o(){d.classList.toggle("hidden",0===a),r.classList.toggle("hidden",a===t.length-1)}d.addEventListener("click",e=>{e.stopPropagation(),0<a&&(a--,s((e=t[a]).querySelector("img").src.replace(/(\.[^.]+)$/,"-big$1"),e),o())}),r.addEventListener("click",e=>{e.stopPropagation(),a<t.length-1&&(a++,s((e=t[a]).querySelector("img").src.replace(/(\.[^.]+)$/,"-big$1"),e),o())}),document.addEventListener("keydown",e=>{if(i.classList.contains("show"))switch(e.key){case"Escape":n.hide();break;case"ArrowLeft":0<a&&d.click();break;case"ArrowRight":a<t.length-1&&r.click()}}),i.addEventListener("hidden.bs.modal",function(){var e=document.querySelector(".modal-backdrop");e&&e.remove()})}});