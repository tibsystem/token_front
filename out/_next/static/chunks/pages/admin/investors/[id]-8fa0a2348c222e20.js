(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7399],{23230:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var l=s(37876);s(14232);var r=s(48230),t=s.n(r);let i=e=>{let{route:a="",items:s=[],className:r=""}=e,i=(()=>{if(s&&s.length>0)return[{label:"In\xedcio",path:"../dashboard",icon:!0},...s.map(e=>({...e,icon:!1}))];if(!a)return[{label:"In\xedcio",path:"../dashboard",icon:!0}];let e=a.replace(/^\/+|\/+$/g,"").split("/").filter(Boolean),l=[{label:"In\xedcio",path:"../dashboard",icon:!0}],r="";return e.forEach(e=>{r+="/".concat(e);let a=e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());l.push({label:a,path:r,icon:!1})}),l})();return(0,l.jsx)("nav",{className:"breadcrumb-nav ".concat(r),"aria-label":"breadcrumb",children:(0,l.jsx)("ol",{className:"breadcrumb mb-0",children:i.map((e,a)=>{let s=a===i.length-1;return(0,l.jsx)("li",{className:"breadcrumb-item ".concat(s?"active":""),"aria-current":s?"page":void 0,children:s||!e.path?(0,l.jsxs)("span",{className:"d-flex align-items-center",children:[e.icon&&(0,l.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]}):(0,l.jsxs)(t(),{href:e.path,className:"text-decoration-none d-flex align-items-center",children:[e.icon&&(0,l.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]})},a)})})})}},32503:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var l=s(37876),r=s(14232),t=s(89099),i=s(82427);async function c(e){try{return(await i.A.get("/investors/".concat(e))).data}catch(e){throw console.error("Erro ao buscar investidor:",e),e}}var n=s(23230),d=s(59511),o=s(89848);function m(){let{id:e}=(0,t.useRouter)().query,[a,s]=(0,r.useState)(null),[i,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(null),[j,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(async()=>{try{m(!0);let a=await c(e);s(a)}catch(e){console.error("Erro ao buscar investidor:",e)}finally{m(!1)}})()},[e]);let N=()=>{u(!1)},b=async()=>{if(!a.carteira_blockchain)return;let e=o.oR.loading("Copiando endere\xe7o...");try{await navigator.clipboard.writeText(a.carteira_blockchain),o.oR.update(e,{render:"Endere\xe7o copiado com sucesso!",type:"success",isLoading:!1,autoClose:3e3})}catch(a){o.oR.update(e,{render:"Erro ao copiar endere\xe7o",type:"error",isLoading:!1,autoClose:3e3})}};return i?(0,l.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Carregando..."})}),(0,l.jsx)("div",{className:"text-gray-500",children:"Carregando dados do investidor..."})]})}):h?(0,l.jsx)("div",{className:"container mt-4",children:(0,l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,l.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),h]})}):a?(0,l.jsx)(d.A,{children:(0,l.jsxs)("div",{className:" mt-4",children:[(0,l.jsx)(n.A,{items:[{label:"Investidores",path:"/admin/investors"},{label:"Detalhes de ".concat(a.nome),path:null}],className:"mb-4"}),(0,l.jsx)("div",{className:"row mb-4",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsx)("h1",{className:"h3 mb-0",children:"Detalhes do Investidor"})})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-lg-8",children:(0,l.jsxs)("div",{className:"card shadow-sm",children:[(0,l.jsx)("div",{className:"card-header bg-dark text-white",children:(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("img",{src:a.foto_url||"/assets/img/user/user-default.jpg",alt:a.nome,className:"rounded-circle me-3",style:{width:60,height:60,objectFit:"cover",border:"3px solid rgba(255,255,255,0.3)"},onError:e=>{e.target.src="/assets/img/user/user-default.jpg"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"mb-1",children:a.nome}),(0,l.jsxs)("small",{className:"opacity-75",children:["ID: ",a.id]})]})]})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("h6",{className:"text-primary mb-3",children:[(0,l.jsx)("i",{className:"fa fa-user me-2"}),"Informa\xe7\xf5es Pessoais"]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Email"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-envelope text-muted me-2"}),(0,l.jsx)("span",{children:a.email})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Telefone"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-phone text-muted me-2"}),(0,l.jsx)("span",{children:a.telefone||"N\xe3o informado"})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"CPF"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-id-card text-muted me-2"}),(0,l.jsx)("span",{children:a.cpf||"N\xe3o informado"})]})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("h6",{className:"text-primary mb-3",children:[(0,l.jsx)("i",{className:"fa fa-info-circle me-2"}),"Informa\xe7\xf5es Adicionais"]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Data de Cadastro"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-calendar text-muted me-2"}),(0,l.jsx)("span",{children:a.created_at?new Date(a.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N\xe3o informado"})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Status"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-circle text-success me-2"}),(0,l.jsx)("span",{className:"badge bg-success",children:"Ativo"})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"\xdaltima Atualiza\xe7\xe3o"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-clock text-muted me-2"}),(0,l.jsx)("span",{children:a.updated_at?new Date(a.updated_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N\xe3o informado"})]})]})]})]}),(a.endereco||a.cidade||a.estado||a.cep)&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-top",children:[(0,l.jsxs)("h6",{className:"text-primary mb-3",children:[(0,l.jsx)("i",{className:"fa fa-map-marker-alt me-2"}),"Endere\xe7o"]}),(0,l.jsxs)("div",{className:"row g-3",children:[a.endereco&&(0,l.jsxs)("div",{className:"col-md-8",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Endere\xe7o"}),(0,l.jsx)("div",{children:a.endereco})]}),a.cidade&&(0,l.jsxs)("div",{className:"col-md-4",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Cidade"}),(0,l.jsx)("div",{children:a.cidade})]}),a.estado&&(0,l.jsxs)("div",{className:"col-md-4",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"Estado"}),(0,l.jsx)("div",{children:a.estado})]}),a.cep&&(0,l.jsxs)("div",{className:"col-md-4",children:[(0,l.jsx)("label",{className:"form-label text-muted small",children:"CEP"}),(0,l.jsx)("div",{children:a.cep})]})]})]})]})]})}),(0,l.jsxs)("div",{className:"col-lg-4",children:[(0,l.jsxs)("div",{className:"card shadow-sm",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h6",{className:"mb-0",children:"A\xe7\xf5es"})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"d-grid gap-2",children:[(0,l.jsxs)("button",{className:"btn btn-outline-primary",children:[(0,l.jsx)("i",{className:"fa fa-edit me-2"}),"Editar Investidor"]}),(0,l.jsxs)("button",{className:"btn btn-outline-info",children:[(0,l.jsx)("i",{className:"fa fa-chart-line me-2"}),"Ver Investimentos"]}),(0,l.jsxs)("button",{className:"btn btn-outline-success",onClick:()=>{u(!0)},children:[(0,l.jsx)("i",{className:"fa fa-wallet me-2"}),"Ver Carteira"]}),(0,l.jsxs)("button",{className:"btn btn-outline-warning",children:[(0,l.jsx)("i",{className:"fa fa-history me-2"}),"Hist\xf3rico de Transa\xe7\xf5es"]})]})})]}),(0,l.jsxs)("div",{className:"card shadow-sm mt-4",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h6",{className:"mb-0",children:"Resumo"})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row g-3 text-center",children:[(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"border rounded p-3",children:[(0,l.jsx)("div",{className:"h4 text-primary mb-1",children:"0"}),(0,l.jsx)("small",{className:"text-muted",children:"Investimentos"})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"border rounded p-3",children:[(0,l.jsx)("div",{className:"h4 text-success mb-1",children:"R$ 0,00"}),(0,l.jsx)("small",{className:"text-muted",children:"Total Investido"})]})})]})})]})]})]}),j&&(0,l.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},onClick:N,children:(0,l.jsx)("div",{className:"modal-dialog modal-lg",onClick:e=>e.stopPropagation(),children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header bg-dark text-white",children:[(0,l.jsxs)("h5",{className:"modal-title",children:[(0,l.jsx)("i",{className:"fa fa-wallet me-2"}),"Informa\xe7\xf5es da Carteira"]}),(0,l.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:N})]}),(0,l.jsx)("div",{className:"modal-body",children:(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"card border-0 bg-light",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("h6",{className:"text-dark mb-3",children:[(0,l.jsx)("i",{className:"fa fa-shield-alt me-2"}),"Status KYC (Know Your Customer)"]}),(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"fw-bold",children:"Status atual:"}),(0,l.jsx)("small",{className:"text-muted",children:"Verifica\xe7\xe3o de identidade"})]}),(0,l.jsx)("div",{children:(e=>{switch(null==e?void 0:e.toLowerCase()){case"aprovado":return(0,l.jsx)("span",{className:"badge bg-success",children:"Aprovado"});case"pendente":return(0,l.jsx)("span",{className:"badge bg-warning",children:"Pendente"});case"rejeitado":return(0,l.jsx)("span",{className:"badge bg-danger",children:"Rejeitado"});default:return(0,l.jsx)("span",{className:"badge bg-secondary",children:"N\xe3o informado"})}})(a.status_kyc)})]})]})})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"card border-0 bg-light",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("h6",{className:"text-dark mb-3",children:[(0,l.jsx)("i",{className:"fa fa-link me-2"}),"Endere\xe7o da Carteira Blockchain"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"fw-bold mb-2",children:"Endere\xe7o:"}),a.carteira_blockchain?(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("code",{className:"bg-white p-2 text-dark rounded border flex-grow-1 me-2",style:{fontSize:"14px",wordBreak:"break-all"},children:a.carteira_blockchain}),(0,l.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:b,title:"Copiar endere\xe7o",children:(0,l.jsx)("i",{className:"fa fa-copy"})})]}):(0,l.jsxs)("div",{className:"text-muted",children:[(0,l.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),"Carteira blockchain n\xe3o configurada"]})]})]})})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"card border-0 bg-light",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("h6",{className:"text-dark mb-3",children:[(0,l.jsx)("i",{className:"fa fa-info-circle me-2"}),"Informa\xe7\xf5es Importantes"]}),(0,l.jsx)("div",{className:"small text-muted",children:(0,l.jsxs)("ul",{className:"mb-0",children:[(0,l.jsx)("li",{children:'O status KYC deve estar "aprovado" para realizar transa\xe7\xf5es'}),(0,l.jsx)("li",{children:"O endere\xe7o da carteira blockchain \xe9 \xfanico e n\xe3o pode ser alterado"}),(0,l.jsx)("li",{children:"Mantenha o endere\xe7o da carteira seguro e n\xe3o o compartilhe desnecessariamente"})]})})]})})})]})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:N,children:"Fechar"})})]})})})]})}):(0,l.jsx)("div",{className:"container mt-4",children:(0,l.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,l.jsx)("i",{className:"fa fa-info-circle me-2"}),"Investidor n\xe3o encontrado."]})})}},59511:(e,a,s)=>{"use strict";s.d(a,{A:()=>c});var l=s(37876),r=s(14232),t=s(89099),i=s(89848);function c(e){let{children:a}=e,[s,c]=(0,r.useState)(!1),[n,d]=(0,r.useState)(!0),o=(0,t.useRouter)();return((0,r.useEffect)(()=>{(()=>{{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),a=localStorage.getItem("admin_token")?"/admin/login":"/login";if(!e){i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),o.push(a);return}try{let s=JSON.parse(atob(e.split(".")[1])),l=Math.floor(Date.now()/1e3);if(s.exp&&s.exp<l){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),o.push(a);return}c(!0)}catch(e){console.error("Erro ao validar token:",e),localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.error("Token inv\xe1lido. Por favor, fa\xe7a login novamente."),o.push(a)}finally{d(!1)}}})();let e=setInterval(()=>{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),a=localStorage.getItem("admin_token")?"/admin/login":"/login";if(e)try{let s=JSON.parse(atob(e.split(".")[1])),l=Math.floor(Date.now()/1e3);s.exp&&s.exp<l&&(localStorage.removeItem("token"),localStorage.removeItem("admin_token"),localStorage.removeItem("profileData"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),o.push(a))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),o.push(a)}},3e4);return()=>clearInterval(e)},[o]),(0,r.useEffect)(()=>{let e=e=>{if(("token"===e.key||"admin_token"===e.key)&&!e.newValue){c(!1),i.oR.info("Voc\xea foi desconectado.");let e=!!localStorage.getItem("admin_token");o.push(e?"/admin/login":"/login")}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[o]),n)?(0,l.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Carregando..."})})}):s?a:null}},66760:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/investors/[id]",function(){return s(32503)}])},82427:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let l=s(91040).A.create({baseURL:"https://backend.ib3capital.app.br/api"});l.interceptors.request.use(e=>{{let a=localStorage.getItem("admin_token"),s=localStorage.getItem("token"),l=a||s;l&&(e.headers.Authorization="Bearer ".concat(l),a?e.baseURL="https://backend.ib3capital.app.br/api/admin":e.baseURL="https://backend.ib3capital.app.br/api/investor")}return e});let r=l},89099:(e,a,s)=>{e.exports=s(84294)}},e=>{var a=a=>e(e.s=a);e.O(0,[1040,636,6593,8792],()=>a(66760)),_N_E=e.O()}]);