(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3567],{63530:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return s(90670)}])},82427:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var l=s(91040),n=s(65364);let t=l.A.create({baseURL:n.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000/api"});t.interceptors.request.use(e=>{{let a=localStorage.getItem("admin_token"),s=localStorage.getItem("token"),l=a||s;l&&(e.headers.Authorization="Bearer ".concat(l))}return e});let i=t},90670:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var l=s(37876),n=s(14232),t=s(14e3),i=s(59412),r=s(82427);function o(){let{updateSettings:e}=(0,i.I)(),a=(0,t.useRouter)(),[s,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[h,x]=(0,n.useState)(!0);async function g(e){e.preventDefault(),p("");try{let{data:e}=await r.A.post("/auth/login",{email:s,password:d});e.token?(localStorage.setItem("admin_token",e.token),window.location.href="/admin/dashboard"):p("Login inv\xe1lido")}catch(e){console.error(e),p("Falha no login")}}return((0,n.useEffect)(()=>{localStorage.getItem("admin_token")?a.replace("/admin/dashboard"):x(!1)},[a]),(0,n.useEffect)(()=>(e({appHeaderNone:!0,appSidebarNone:!0,appContentClass:"p-0"}),()=>{e({appHeaderNone:!1,appSidebarNone:!1,appContentClass:"p-0"})}),[e]),h)?null:(0,l.jsxs)("div",{className:"login login-with-news-feed",children:[(0,l.jsxs)("div",{className:"news-feed",children:[(0,l.jsx)("div",{className:"news-image",style:{backgroundImage:"url(/assets/img/login-bg/login-bg-11.jpg)"}}),(0,l.jsxs)("div",{className:"news-caption",children:[(0,l.jsxs)("h4",{className:"caption-title",children:[(0,l.jsx)("b",{children:"Color"})," Admin App"]}),(0,l.jsx)("p",{children:"\xc1rea exclusiva para administradores da plataforma."})]})]}),(0,l.jsxs)("div",{className:"login-container",children:[(0,l.jsxs)("div",{className:"login-header mb-30px",children:[(0,l.jsxs)("div",{className:"brand",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("span",{className:"logo"}),(0,l.jsx)("b",{children:"Color"})," Admin"]}),(0,l.jsx)("small",{children:"Administra\xe7\xe3o da Plataforma"})]}),(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)("i",{className:"fa fa-user-shield"})})]}),(0,l.jsx)("div",{className:"login-content",children:(0,l.jsxs)("form",{onSubmit:g,className:"fs-13px",children:[m&&(0,l.jsx)("div",{className:"text-danger mb-2",children:m}),(0,l.jsxs)("div",{className:"form-floating mb-15px",children:[(0,l.jsx)("input",{type:"email",className:"form-control h-45px fs-13px",placeholder:"Email do administrador",id:"adminEmail",value:s,onChange:e=>o(e.target.value),required:!0}),(0,l.jsx)("label",{htmlFor:"adminEmail",className:"d-flex align-items-center fs-13px text-gray-600",children:"Email"})]}),(0,l.jsxs)("div",{className:"form-floating mb-15px",children:[(0,l.jsx)("input",{type:"password",className:"form-control h-45px fs-13px",placeholder:"Senha",id:"adminPassword",value:d,onChange:e=>c(e.target.value),required:!0}),(0,l.jsx)("label",{htmlFor:"adminPassword",className:"d-flex align-items-center fs-13px text-gray-600",children:"Senha"})]}),(0,l.jsx)("div",{className:"mb-15px",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-theme d-block h-45px w-100 btn-lg fs-14px",children:"Entrar"})}),(0,l.jsx)("hr",{className:"bg-gray-600 opacity-2"}),(0,l.jsx)("div",{className:"text-gray-600 text-center text-gray-500-darker mb-0",children:"\xa9 Color Admin Todos os direitos reservados 2025"})]})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[1040,636,6593,8792],()=>a(63530)),_N_E=e.O()}]);