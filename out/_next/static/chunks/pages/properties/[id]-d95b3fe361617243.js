(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2375],{23230:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(37876);a(14232);var s=a(48230),n=a.n(s);let i=e=>{let{route:t="",items:a=[],className:s=""}=e,i=(()=>{if(a&&a.length>0)return[{label:"In\xedcio",path:"../dashboard",icon:!0},...a.map(e=>({...e,icon:!1}))];if(!t)return[{label:"In\xedcio",path:"../dashboard",icon:!0}];let e=t.replace(/^\/+|\/+$/g,"").split("/").filter(Boolean),r=[{label:"In\xedcio",path:"../dashboard",icon:!0}],s="";return e.forEach(e=>{s+="/".concat(e);let t=e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());r.push({label:t,path:s,icon:!1})}),r})();return(0,r.jsx)("nav",{className:"breadcrumb-nav ".concat(s),"aria-label":"breadcrumb",children:(0,r.jsx)("ol",{className:"breadcrumb mb-0",children:i.map((e,t)=>{let a=t===i.length-1;return(0,r.jsx)("li",{className:"breadcrumb-item ".concat(a?"active":""),"aria-current":a?"page":void 0,children:a||!e.path?(0,r.jsxs)("span",{className:"d-flex align-items-center",children:[e.icon&&(0,r.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]}):(0,r.jsxs)(n(),{href:e.path,className:"text-decoration-none d-flex align-items-center",children:[e.icon&&(0,r.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]})},t)})})})}},33400:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var r=a(14232),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(s),i=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var r,s,n;r=e,s=t,n=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>r.createElement(m,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var a,{attr:s,size:n,title:l}=e,d=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,i),m=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==n?r.createElement(n.Consumer,null,e=>t(e)):t(s)}},33572:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(37876),s=a(89099),n=a(14232),i=a(54587),o=a.n(i),l=a(59031),c=a(82427);async function d(){try{return(await c.A.get("/platform-settings")).data}catch(e){throw e}}async function m(e){try{return(await c.A.post("/investments/purchase",e)).data}catch(e){throw e}}var u=a(89848),p=a(98928),g=a(23230),h=a(59511);function x(){var e,t;let{id:a}=(0,s.useRouter)().query,[i,c]=(0,n.useState)(null),[x,b]=(0,n.useState)(1),[v,f]=(0,n.useState)(null),[j,N]=(0,n.useState)(""),[y,w]=(0,n.useState)(!0),[k,S]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{try{let e=await d();e&&e.taxa_compra_token&&S(Number(e.taxa_compra_token))}catch(e){S(0)}};(async()=>{if(a)try{w(!0);let e=await (0,l.N)(a);c(e),e.valor_total&&e.qtd_tokens_original?N((Number(e.valor_total)/Number(e.qtd_tokens_original)).toFixed(2)):N("")}catch(t){var e;(null==t||null==(e=t.response)?void 0:e.status)===401?u.oR.error("Sua sess\xe3o expirou ou voc\xea n\xe3o tem permiss\xe3o para acessar este im\xf3vel. Fa\xe7a login novamente se necess\xe1rio."):f("Erro ao carregar im\xf3vel.")}finally{w(!1)}})(),e()},[a]);let _=Number(x)*(Number(j)||0),R=k/100*_,I=_+R,O=Number((null==i?void 0:i.qtd_tokens)||0)*Number(j||0),E=(Number((null==i?void 0:i.qtd_tokens_original)||0)-Number((null==i?void 0:i.qtd_tokens)||0))*Number(j||0),P=["#e53935","#f6c244","#f6e244","#4fc3f7","#43a047"],D=()=>x<1||isNaN(x)?(u.oR.warning("Informe uma quantidade v\xe1lida."),!1):_<1e3?(u.oR.warning("Valor m\xednimo de investimento \xe9 R$ ".concat(1e3.toLocaleString("pt-BR"))),!1):!(Number(x)>Number((null==i?void 0:i.qtd_tokens)||0))||(u.oR.warning("A quantidade excede os tokens dispon\xedveis para este im\xf3vel."),!1),C=async()=>{if(D())try{let e=localStorage.getItem("token"),t=null;if(e)try{let a=JSON.parse(atob(e.split(".")[1]));t=a.id||a.user_id||a.sub}catch(e){}let r=new Date,s=e=>e.toString().padStart(2,"0"),n="".concat(r.getFullYear(),"-").concat(s(r.getMonth()+1),"-").concat(s(r.getDate())," ").concat(s(r.getHours()),":").concat(s(r.getMinutes()),":").concat(s(r.getSeconds())),i={id_investidor:t,id_imovel:Number(a),qtd_tokens:Number(x),valor_unitario:Number(j)||0,data_compra:n,origem:"plataforma",status:"ativo"};await m(i),u.oR.success("Compra realizada!")}catch(e){console.error(e),u.oR.error("Erro na compra")}};return y?(0,r.jsx)("div",{className:"p-5 text-muted fs-5 text-center",children:"Carregando im\xf3vel..."}):v?(0,r.jsx)("div",{className:"p-5 text-danger fs-5 text-center",children:v}):i?(0,r.jsx)(h.A,{children:(0,r.jsxs)("div",{className:"container-fluid py-5",children:[(0,r.jsx)(g.A,{items:[{label:"Im\xf3veis",path:"/properties"},{label:"Detalhes do im\xf3vel ".concat(i.titulo),path:null}]}),(0,r.jsx)("div",{className:"card border-0 shadow-sm p-5 mb-5",children:(0,r.jsxs)("div",{className:"row g-5",children:[(0,r.jsxs)("div",{className:"col-lg-7",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h5",{className:"mb-3 fw-bold text-dark d-flex align-items-center gap-2",children:[(0,r.jsx)(p.dkL,{className:"text-primary"})," Galeria de Imagens"]}),(0,r.jsx)("div",{className:"position-relative overflow-hidden rounded-3 shadow-sm",style:{height:"300px"},children:i.imagens&&i.imagens.length>0?(0,r.jsx)(o(),{src:(null==(e=i.imagens[0])?void 0:e.url)||"/assets/img/default-property.jpg",alt:"Imagem da propriedade ".concat(i.titulo),className:"w-100 h-100 object-fit-cover",width:800,height:300,onError:e=>{e.target.src="/assets/img/default-property.jpg"}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{src:"/assets/img/default-property.jpg",alt:"Imagem padr\xe3o da propriedade",className:"w-100 h-100 object-fit-cover opacity-75",width:800,height:300}),(0,r.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:(0,r.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-3 p-4 shadow",children:[(0,r.jsx)(p.dkL,{size:48,className:"text-muted mb-2"}),(0,r.jsx)("p",{className:"text-muted mb-0 fw-medium",children:"Imagem n\xe3o dispon\xedvel"})]})})]})}),i.imagens&&i.imagens.length>1&&(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsxs)("div",{className:"d-flex gap-2 overflow-auto pb-2",children:[i.imagens.slice(1,5).map((e,t)=>(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(o(),{src:e.url||"/assets/img/default-property.jpg",alt:"Imagem adicional ".concat(t+2),className:"rounded-2 object-fit-cover border",style:{width:"80px",height:"60px"},width:80,height:60,onError:e=>{e.target.src="/assets/img/default-property.jpg"}})},t)),i.imagens.length>5&&(0,r.jsxs)("div",{className:"flex-shrink-0 d-flex align-items-center justify-content-center bg-light rounded-2 border text-muted",style:{width:"80px",height:"60px",fontSize:"12px"},children:["+",i.imagens.length-5]})]})})]}),(0,r.jsxs)("h1",{className:"h2 fw-bold mb-3 d-flex align-items-center gap-2",children:[(0,r.jsx)(p.ymh,{className:"text-primary"}),i.titulo||"T\xedtulo n\xe3o dispon\xedvel"]}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,r.jsx)(p.vq8,{className:"text-info"}),(0,r.jsx)("span",{className:"text-muted",children:"Localiza\xe7\xe3o:"}),(0,r.jsx)("span",{className:"fw-semibold",children:i.localizacao||"N\xe3o informado"})]}),(0,r.jsxs)("div",{className:"d-flex flex-wrap gap-2 mb-4",children:[(0,r.jsxs)("span",{className:"badge bg-secondary-subtle text-secondary px-3 py-2",children:["Status: ",(null==(t=i.status)?void 0:t.toUpperCase())||"N/A"]}),(0,r.jsx)("span",{className:"badge bg-primary-subtle text-primary px-3 py-2",children:"Isento de IR"}),(null==i?void 0:i.contract_address)&&(0,r.jsxs)("a",{href:"https://polygonscan.com/token/".concat(i.contract_address),target:"_blank",rel:"noopener noreferrer",className:"badge bg-warning-subtle text-secondary px-3 py-2 text-decoration-none d-inline-flex align-items-center",title:"Ver contrato no PolygonScan",children:[(0,r.jsx)("i",{className:"fa fa-link me-1"})," Contrato"]})]}),(0,r.jsx)("p",{className:"mb-4 fs-5 text-primary fw-bold",children:"Rentabilidade Prevista: IPCA + 14,00% a.a."}),(0,r.jsx)("p",{className:"mb-2 fw-semibold",children:"N\xedvel de Garantia"}),(0,r.jsxs)("p",{className:"text-muted mb-2",children:["Esse investimento est\xe1 classificado no ",(0,r.jsx)("strong",{children:"N\xedvel 5"})]}),(0,r.jsx)("div",{className:"d-flex gap-2 mb-4 align-items-end",children:[1,2,3,4,5].map((e,t)=>(0,r.jsxs)("div",{className:"text-center flex-fill",children:[(0,r.jsxs)("div",{style:{fontSize:12,color:P[t],opacity:5===e?1:.3,fontWeight:"bold"},children:["N\xedvel ",e]}),(0,r.jsx)("div",{className:"rounded-pill mt-1",style:{height:10,backgroundColor:P[t],opacity:5===e?1:.3}})]},e))}),i.descricao&&(0,r.jsxs)("div",{className:"p-3 bg-light rounded-3 mb-4",children:[(0,r.jsxs)("h6",{className:"text-muted mb-2 fw-medium d-flex align-items-center gap-2",children:[(0,r.jsx)("i",{className:"fa fa-align-left"})," Descri\xe7\xe3o"]}),(0,r.jsx)("p",{className:"small text-muted mb-0 lh-base",children:i.descricao})]}),(0,r.jsxs)("div",{className:"row row-cols-2 g-3 text-muted fs-6 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Valor Total:"}),(0,r.jsx)("br",{}),"R$ ",Number(i.valor_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Tokens Originais:"}),(0,r.jsx)("br",{}),i.qtd_tokens_original||0]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Tokens Dispon\xedveis:"}),(0,r.jsx)("br",{}),i.qtd_tokens||0]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Valor Unit\xe1rio:"}),(0,r.jsx)("br",{}),"R$ ",Number(j||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Devedor:"}),(0,r.jsx)("br",{}),"Gran Vellas Wins Empreendimentos SPE Ltda."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Periodicidade da Remunera\xe7\xe3o:"}),(0,r.jsx)("br",{}),"Cash Sweep"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Fluxo de Amortiza\xe7\xe3o:"}),(0,r.jsx)("br",{}),"Cash Sweep"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Garantia:"}),(0,r.jsx)("br",{}),"Im\xf3veis, Receb\xedveis, Cotas e Aval"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Lastro:"}),(0,r.jsx)("br",{}),"Receb\xedveis Imobili\xe1rios"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Cronograma:"}),(0,r.jsx)("br",{}),"Conforme descrito no Termo de Securitiza\xe7\xe3o"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Valor M\xednimo:"}),(0,r.jsx)("br",{}),"R$ ",1e3.toLocaleString("pt-BR")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Valor Dispon\xedvel:"}),(0,r.jsx)("br",{}),"R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,r.jsx)("p",{className:"mb-1 mt-4 fw-semibold",children:"Progresso do Investimento"}),(0,r.jsxs)("div",{className:"d-flex justify-content-between text-muted small mb-1",children:[(0,r.jsxs)("span",{children:["R$ ",E.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsxs)("span",{children:["R$ ",Number(i.valor_total||0).toLocaleString("pt-BR",{minimumFractionDigits:2})," Total"]})]}),(0,r.jsx)("div",{className:"progress mb-4",style:{height:12},children:(0,r.jsx)("div",{className:"progress-bar bg-primary",style:{width:i.qtd_tokens_original>0?"".concat((Number(i.qtd_tokens_original||0)-Number(i.qtd_tokens||0))/Number(i.qtd_tokens_original||1)*100,"%"):"0%"}})}),i.data_tokenizacao&&(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-3 bg-light rounded-3",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("i",{className:"fa fa-calendar text-primary"}),(0,r.jsx)("span",{className:"text-muted fw-medium",children:"Data de Tokeniza\xe7\xe3o"})]}),(0,r.jsx)("span",{className:"fw-semibold text-dark",children:new Date(i.data_tokenizacao).toLocaleDateString("pt-BR")})]})]}),(0,r.jsx)("div",{className:"col-lg-5",children:(0,r.jsxs)("div",{className:"card border-0 shadow-sm p-4",children:[(0,r.jsxs)("h4",{className:"fw-bold mb-4 d-flex align-items-center gap-2",children:[(0,r.jsx)(p.cEG,{className:"text-warning"}),"Simule seu investimento"]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Quantidade de tokens"}),(0,r.jsx)("input",{type:"number",className:"form-control form-control-lg",value:x,min:1,max:i.qtd_tokens||0,onChange:e=>b(Number(e.target.value))}),(0,r.jsxs)("small",{className:"text-muted",children:["M\xe1ximo dispon\xedvel: ",i.qtd_tokens||0," tokens"]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Valor unit\xe1rio"}),(0,r.jsxs)("div",{className:"form-control form-control-lg bg-light",children:["R$ ",Number(j).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"text-muted small",children:["Taxa da plataforma: ",k,"%"]}),(0,r.jsxs)("div",{className:"fw-semibold",children:["Total: R$ ",_.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsxs)("div",{className:"text-muted",children:["Taxa: R$ ",R.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsxs)("div",{className:"fw-bold text-success",children:["Total com taxa: R$ ",I.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,r.jsx)("button",{className:"btn btn-success w-100 py-2 fs-5",onClick:C,disabled:y||0===Number(i.qtd_tokens||0),children:0===Number(i.qtd_tokens||0)?"Tokens Esgotados":"Comprar Tokens"})]})})]})})]})}):(0,r.jsx)("div",{className:"p-5 text-center",children:"Im\xf3vel n\xe3o encontrado."})}},59031:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});var r=a(82427);async function s(e){try{return(await r.A.get("/properties/".concat(e))).data}catch(e){throw e}}},59511:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(37876),s=a(14232),n=a(89099),i=a(89848);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!0),d=(0,n.useRouter)();return((0,s.useEffect)(()=>{(()=>{{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),t=localStorage.getItem("admin_token")?"/admin/login":"/login";if(!e){i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(t);return}try{let a=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);if(a.exp&&a.exp<r){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(t);return}o(!0)}catch(e){console.error("Erro ao validar token:",e),localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.error("Token inv\xe1lido. Por favor, fa\xe7a login novamente."),d.push(t)}finally{c(!1)}}})();let e=setInterval(()=>{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),t=localStorage.getItem("admin_token")?"/admin/login":"/login";if(e)try{let a=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);a.exp&&a.exp<r&&(localStorage.removeItem("token"),localStorage.removeItem("admin_token"),localStorage.removeItem("profileData"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(t))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),d.push(t)}},3e4);return()=>clearInterval(e)},[d]),(0,s.useEffect)(()=>{let e=e=>{if(("token"===e.key||"admin_token"===e.key)&&!e.newValue){o(!1),i.oR.info("Voc\xea foi desconectado.");let e=!!localStorage.getItem("admin_token");d.push(e?"/admin/login":"/login")}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[d]),l)?(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,r.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Carregando..."})})}):a?t:null}},82427:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let r=a(91040).A.create({baseURL:"https://backend.ib3capital.app.br/api"});r.interceptors.request.use(e=>{{let t=localStorage.getItem("admin_token"),a=localStorage.getItem("token"),r=t||a;r&&(e.headers.Authorization="Bearer ".concat(r),t?e.baseURL="https://backend.ib3capital.app.br/api/admin":e.baseURL="https://backend.ib3capital.app.br/api/investor")}return e});let s=r},86742:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties/[id]",function(){return a(33572)}])},89099:(e,t,a)=>{e.exports=a(84294)}},e=>{var t=t=>e(e.s=t);e.O(0,[4938,1040,636,6593,8792],()=>t(86742)),_N_E=e.O()}]);