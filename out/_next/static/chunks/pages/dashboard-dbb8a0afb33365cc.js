(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{35372:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(36831)}])},36831:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(37876),l=t(14232),r=t(48230),o=t.n(r),i=t(82427);function n(){let[e,s]=(0,l.useState)(null),[t,r]=(0,l.useState)([]),[n,d]=(0,l.useState)(null),[c,m]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{{let e=localStorage.getItem("token");console.log("Token salvo no localStorage:",e)}let[e,t]=await Promise.all([i.A.get("/wallet"),i.A.get("/properties")]);s(e.data),r(t.data)}catch(s){var e,t;console.error("Erro ao buscar dados do dashboard:",s),d((null==s||null==(t=s.response)||null==(e=t.data)?void 0:e.message)||s.message||"Erro desconhecido")}finally{m(!1)}})()},[]),(0,a.jsxs)("div",{className:"p-4 max-w-5xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-theme",children:"Dashboard"}),c&&(0,a.jsx)("div",{className:"text-gray-500 mb-4 animate-pulse",children:"Carregando informa\xe7\xf5es..."}),n&&(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:["Erro: ",n]}),e&&(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-4 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg p-6 shadow",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold",children:"Saldo em carteira"}),(0,a.jsxs)("div",{className:"text-3xl font-bold ml-auto",children:["R$ ",Number(e.balance).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Im\xf3veis dispon\xedveis"}),(0,a.jsx)(o(),{href:"/imoveis",className:"text-blue-600 hover:underline font-medium",children:"Ver todos"})]}),(0,a.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[0===t.length&&!c&&(0,a.jsx)("li",{className:"col-span-full text-gray-500",children:"Nenhum im\xf3vel dispon\xedvel."}),t.slice(0,6).map(e=>(0,a.jsxs)("li",{className:"bg-white border border-gray-200 rounded-xl shadow hover:shadow-lg transition-shadow p-5 flex flex-col",children:[(0,a.jsx)("div",{className:"font-bold text-lg mb-1 text-theme",children:e.titulo}),(0,a.jsx)("div",{className:"mb-2 text-gray-700 line-clamp-2",children:e.descricao}),(0,a.jsxs)("div",{className:"mb-1 text-sm",children:[(0,a.jsx)("b",{children:"Localiza\xe7\xe3o:"})," ",e.localizacao]}),(0,a.jsxs)("div",{className:"mb-1 text-sm",children:[(0,a.jsx)("b",{children:"Valor Total:"})," R$ ",Number(e.valor_total).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,a.jsxs)("div",{className:"mb-1 text-sm",children:[(0,a.jsx)("b",{children:"Tokens:"})," ",e.qtd_tokens]}),(0,a.jsxs)("div",{className:"mb-1 text-sm",children:[(0,a.jsx)("b",{children:"Status:"})," ",(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("ativo"===e.status?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"),children:e.status})]}),(0,a.jsxs)("div",{className:"mb-1 text-sm",children:[(0,a.jsx)("b",{children:"Data Tokeniza\xe7\xe3o:"})," ",e.data_tokenizacao]}),(0,a.jsx)(o(),{href:"/imoveis/".concat(e.id),className:"mt-3 inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition",children:"Ver detalhes"})]},e.id))]})]})}},82427:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(91040),l=t(65364);let r=a.A.create({baseURL:l.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000/api"});r.interceptors.request.use(e=>{{let s=localStorage.getItem("admin_token"),t=localStorage.getItem("token"),a=s||t;a&&(e.headers.Authorization="Bearer ".concat(a))}return e});let o=r}},e=>{var s=s=>e(e.s=s);e.O(0,[1040,636,6593,8792],()=>s(35372)),_N_E=e.O()}]);