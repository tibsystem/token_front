(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{23230:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(37876);s(14232);var l=s(48230),r=s.n(l);let i=e=>{let{route:a="",items:s=[],className:l=""}=e,i=(()=>{if(s&&s.length>0)return[{label:"In\xedcio",path:"../dashboard",icon:!0},...s.map(e=>({...e,icon:!1}))];if(!a)return[{label:"In\xedcio",path:"../dashboard",icon:!0}];let e=a.replace(/^\/+|\/+$/g,"").split("/").filter(Boolean),t=[{label:"In\xedcio",path:"../dashboard",icon:!0}],l="";return e.forEach(e=>{l+="/".concat(e);let a=e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());t.push({label:a,path:l,icon:!1})}),t})();return(0,t.jsx)("nav",{className:"breadcrumb-nav ".concat(l),"aria-label":"breadcrumb",children:(0,t.jsx)("ol",{className:"breadcrumb mb-0",children:i.map((e,a)=>{let s=a===i.length-1;return(0,t.jsx)("li",{className:"breadcrumb-item ".concat(s?"active":""),"aria-current":s?"page":void 0,children:s||!e.path?(0,t.jsxs)("span",{className:"d-flex align-items-center",children:[e.icon&&(0,t.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]}):(0,t.jsxs)(r(),{href:e.path,className:"text-decoration-none d-flex align-items-center",children:[e.icon&&(0,t.jsx)("i",{className:"fa fa-home me-2","aria-hidden":"true"}),e.label]})},a)})})})}},24740:(e,a,s)=>{"use strict";s.d(a,{L:()=>l});var t=s(82427);async function l(e){try{return(await t.A.get("/investments/".concat(e))).data}catch(e){throw e}}},59031:(e,a,s)=>{"use strict";s.d(a,{N:()=>l});var t=s(82427);async function l(e){try{return(await t.A.get("/properties/".concat(e))).data}catch(e){throw e}}},59511:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var t=s(37876),l=s(14232),r=s(89099),i=s(89848);function n(e){let{children:a}=e,[s,n]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!0),d=(0,r.useRouter)();return((0,l.useEffect)(()=>{(()=>{{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),a=localStorage.getItem("admin_token")?"/admin/login":"/login";if(!e){i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(a);return}try{let s=JSON.parse(atob(e.split(".")[1])),t=Math.floor(Date.now()/1e3);if(s.exp&&s.exp<t){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(a);return}n(!0)}catch(e){console.error("Erro ao validar token:",e),localStorage.removeItem("token"),localStorage.removeItem("admin_token"),i.oR.error("Token inv\xe1lido. Por favor, fa\xe7a login novamente."),d.push(a)}finally{c(!1)}}})();let e=setInterval(()=>{let e=localStorage.getItem("token")||localStorage.getItem("admin_token"),a=localStorage.getItem("admin_token")?"/admin/login":"/login";if(e)try{let s=JSON.parse(atob(e.split(".")[1])),t=Math.floor(Date.now()/1e3);s.exp&&s.exp<t&&(localStorage.removeItem("token"),localStorage.removeItem("admin_token"),localStorage.removeItem("profileData"),i.oR.warning("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),d.push(a))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("admin_token"),d.push(a)}},3e4);return()=>clearInterval(e)},[d]),(0,l.useEffect)(()=>{let e=e=>{if(("token"===e.key||"admin_token"===e.key)&&!e.newValue){n(!1),i.oR.info("Voc\xea foi desconectado.");let e=!!localStorage.getItem("admin_token");d.push(e?"/admin/login":"/login")}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[d]),o)?(0,t.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Carregando..."})})}):s?a:null}},73038:()=>{},80624:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var t=s(37876),l=s(14232),r=s(24740),i=s(59031),n=s(82427);async function o(e){try{return(await n.A.post("/p2p/listings",e)).data}catch(e){throw e}}var c=s(89848),d=s(23230),m=s(59511);function u(){let[e,a]=(0,l.useState)([]),[s,n]=(0,l.useState)(!0),[u,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(null),[v,f]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[j,N]=(0,l.useState)(!1),[k,y]=(0,l.useState)(""),[w,_]=(0,l.useState)("tokens"),[S,q]=(0,l.useState)({});function R(){{let e=localStorage.getItem("token")||localStorage.getItem("admin_token");if(e)try{let a=JSON.parse(atob(e.split(".")[1]));return a.id||a.user_id||a.sub||null}catch(e){}}return null}let C=e=>{let a=e.replace(/\D/g,"");return a?(parseInt(a)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""};(0,l.useEffect)(()=>{!async function(){n(!0),x(null);let e=R();if(!e){x("ID do usu\xe1rio n\xe3o encontrado. Fa\xe7a login novamente."),n(!1);return}try{let s=await (0,r.L)(e),t=Array.isArray(s)?s:s?[s]:[],l=(await Promise.all(t.map(async e=>({...await (0,i.N)(null==e?void 0:e.id_imovel),qtd_tokens:(null==e?void 0:e.qtd_tokens)||0,valor_unitario:(null==e?void 0:e.valor_unitario)||0,investimento_id:null==e?void 0:e.id})))).filter(e=>e&&e.id);a(l)}catch(e){x("Erro ao carregar im\xf3veis.")}finally{n(!1)}}()},[]);let I=e=>{p(e),f(""),g(C((100*((null==e?void 0:e.valor_unitario)||0)).toString()))},L=()=>{p(null),f(""),g(""),q({})},[O,P]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=setTimeout(()=>{P(k)},300);return()=>clearTimeout(e)},[k]);let V=(0,l.useMemo)(()=>e.filter(e=>{var a,s;return(null==e||null==(a=e.titulo)?void 0:a.toLowerCase().includes(O.toLowerCase()))||(null==e||null==(s=e.descricao)?void 0:s.toLowerCase().includes(O.toLowerCase()))}).sort((e,a)=>{switch(w){case"tokens":return(a.qtd_tokens||0)-(e.qtd_tokens||0);case"price":return(a.valor_unitario||0)-(e.valor_unitario||0);case"name":return(e.titulo||"").localeCompare(a.titulo||"");default:return 0}}),[e,O,w]),E=(0,l.useCallback)(()=>{if(!v||!b)return"R$ 0,00";let e=parseFloat(b.replace(/[^\d,]/g,"").replace(",","."))||0;return(Number(v)*e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},[v,b]),A=(0,l.useCallback)(()=>{let e={};if(!v||1>Number(v)?e.qtdVenda="Quantidade deve ser maior que 0":Number(v)>((null==h?void 0:h.qtd_tokens)||0)&&(e.qtdVenda="M\xe1ximo ".concat((null==h?void 0:h.qtd_tokens)||0," tokens")),b){let a=parseFloat(b.replace(/[^\d,]/g,"").replace(",","."))||0;a<=0?e.precoVenda="Pre\xe7o deve ser maior que R$ 0,00":a<.01&&(e.precoVenda="Pre\xe7o m\xednimo de R$ 0,01")}else e.precoVenda="Pre\xe7o \xe9 obrigat\xf3rio";return e},[v,b,null==h?void 0:h.qtd_tokens]);(0,l.useEffect)(()=>{h&&(v||b)?q(A()):q({})},[v,b,h,A]);let F=(0,l.useCallback)(async()=>{let e=R();if(e)try{let s=await (0,r.L)(e),t=Array.isArray(s)?s:s?[s]:[],l=(await Promise.all(t.map(async e=>({...await (0,i.N)(null==e?void 0:e.id_imovel),qtd_tokens:(null==e?void 0:e.qtd_tokens)||0,valor_unitario:(null==e?void 0:e.valor_unitario)||0,investimento_id:null==e?void 0:e.id})))).filter(e=>e&&e.id);a(l)}catch(e){console.error("Erro ao recarregar dados:",e)}},[]),B=async e=>{e.preventDefault();let a=A();if(Object.keys(a).length>0){q(a),c.oR.error("Por favor, corrija os erros do formul\xe1rio");return}N(!0);try{let e=localStorage.getItem("token"),a=null;if(e)try{let s=JSON.parse(atob(e.split(".")[1]));a=s.id||s.user_id||s.sub}catch(e){}let s=b.replace(/[^\d,]/g,"").replace(",","."),t={vendedor_id:a,id_imovel:null==h?void 0:h.id,qtd_tokens:Number(v)||0,valor_unitario:Number(s)||0};await o(t),L(),c.oR.success(" Oferta criada com sucesso! Sua oferta j\xe1 est\xe1 dispon\xedvel no marketplace."),await F()}catch(e){console.error("Erro ao criar oferta:",e),c.oR.error(" Erro ao criar oferta. Tente novamente.")}finally{N(!1)}},D=(0,l.useMemo)(()=>e.reduce((e,a)=>e+(a.qtd_tokens||0),0),[e]);return(0,t.jsx)(m.A,{children:(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)(d.A,{items:[{label:"P2P",path:"#"},{label:"Nova Oferta",path:"/p2p/new_offer"}]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl mb-2 text-dark d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-store me-3 text-primary"}),"Marketplace de Tokens"]}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Venda seus tokens de propriedades no marketplace P2P"})]}),(0,t.jsxs)("div",{className:"badge bg-light text-dark fs-6 p-2",children:[(0,t.jsx)("i",{className:"fa fa-cubes me-2"}),D," tokens dispon\xedveis"]})]}),s&&(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Carregando..."})}),(0,t.jsx)("div",{className:"text-muted",children:"Carregando seus investimentos..."})]}),u&&(0,t.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,t.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),(0,t.jsx)("div",{children:u})]}),!s&&0===e.length&&!u&&(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("i",{className:"fa fa-home",style:{fontSize:"4rem",color:"#e9ecef"}})}),(0,t.jsx)("h3",{className:"text-muted mb-3",children:"Nenhum token dispon\xedvel"}),(0,t.jsx)("p",{className:"text-muted mb-4",children:"Voc\xea ainda n\xe3o possui tokens para vender no marketplace."}),(0,t.jsxs)("a",{href:"/investments",className:"btn btn-primary",children:[(0,t.jsx)("i",{className:"fa fa-plus me-2"}),"Fazer Investimento"]})]}),!s&&e.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"row mb-4 g-3",children:[(0,t.jsx)("div",{className:"col-md-8",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:k!==O?(0,t.jsx)("div",{className:" text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Buscando..."})}):(0,t.jsx)("i",{className:"fa fa-search text-muted"})}),(0,t.jsx)("input",{type:"text",className:"form-control border-start-0",placeholder:"Buscar por nome ou descri\xe7\xe3o do im\xf3vel...",value:k,onChange:e=>y(e.target.value),title:"Digite para buscar propriedades"}),k&&(0,t.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>y(""),title:"Limpar busca",children:(0,t.jsx)("i",{className:"fa fa-times"})})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("select",{className:"form-select ".concat("tokens"!==w?"border-info bg-info-subtle":""),value:w,onChange:e=>_(e.target.value),title:"Ordenar propriedades",children:[(0,t.jsx)("option",{value:"tokens",children:"Ordenar por Tokens (maior)"}),(0,t.jsx)("option",{value:"price",children:"Ordenar por Pre\xe7o (maior)"}),(0,t.jsx)("option",{value:"name",children:"Ordenar por Nome (A-Z)"})]})})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsx)("small",{className:"text-muted d-flex align-items-center",children:k!==O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:" me-2",role:"status"}),"Buscando..."]}):(0,t.jsxs)(t.Fragment,{children:["Mostrando ",V.length," de ",e.length," propriedades",(k||"tokens"!==w)&&(0,t.jsx)("i",{className:"fa fa-filter ms-2 text-primary",title:"Filtros ativos"})]})}),(0,t.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[O&&(0,t.jsxs)("span",{className:"badge bg-primary-subtle text-primary",children:[(0,t.jsx)("i",{className:"fa fa-search me-1"}),'"',O,'"',(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>y(""),title:"Remover busca",children:(0,t.jsx)("i",{className:"fa fa-times"})})]}),"tokens"!==w&&(0,t.jsxs)("span",{className:"badge bg-info-subtle text-info",children:[(0,t.jsx)("i",{className:"fa fa-sort me-1"}),"price"===w&&"Maior Pre\xe7o","name"===w&&"Nome A-Z",(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>_("tokens"),title:"Resetar ordena\xe7\xe3o",children:(0,t.jsx)("i",{className:"fa fa-times"})})]})]})]}),(k||"tokens"!==w)&&(0,t.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{y(""),_("tokens")},title:"Limpar todos os filtros",children:[(0,t.jsx)("i",{className:"fa fa-times me-1"}),"Limpar Tudo"]})]})]}),(0,t.jsxs)("div",{className:"row g-4",children:[!s&&e.length>0&&0===V.length&&(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("i",{className:"fa fa-search-minus text-muted",style:{fontSize:"4rem"}})}),(0,t.jsx)("h3",{className:"text-muted mb-3",children:"Nenhum resultado encontrado"}),(0,t.jsx)("p",{className:"text-muted mb-4",children:O?'N\xe3o encontramos propriedades com "'.concat(O,'". Tente outros termos de busca.'):"Nenhuma propriedade corresponde aos filtros aplicados."}),(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>{y(""),_("tokens")},children:[(0,t.jsx)("i",{className:"fa fa-refresh me-2"}),"Limpar Filtros"]}),O&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("small",{className:"text-muted",children:"\uD83D\uDCA1 Dica: Tente termos mais gerais ou verifique a ortografia"})})]})}),V.map(e=>(0,t.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,t.jsxs)("div",{className:"card border-0 shadow-sm h-100 position-relative hover-card p2p-card",children:[(0,t.jsx)("div",{className:"position-absolute top-0 end-0 m-2",children:(0,t.jsxs)("span",{className:"badge bg-success",children:[(0,t.jsx)("i",{className:"fa fa-cubes me-1"}),(null==e?void 0:e.qtd_tokens)||0," tokens"]})}),(0,t.jsxs)("div",{className:"position-relative",children:[(0,t.jsx)("img",{src:e.imagem_url||"/assets/img/default-property.jpg",alt:e.titulo,className:"card-img-top",style:{height:200,objectFit:"cover",borderTopLeftRadius:"0.5rem",borderTopRightRadius:"0.5rem"},onError:e=>{e.target.src="/assets/img/default-property.jpg"}}),(0,t.jsx)("div",{className:"position-absolute bottom-0 start-0 end-0 bg-gradient-to-top p-3",children:(0,t.jsxs)("h2",{className:"card-title h5 mb-0 text-white text-shadow",children:[(0,t.jsx)("i",{className:"fa fa-home me-2"}),(null==e?void 0:e.titulo)||"Im\xf3vel"]})})]}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("p",{className:"text-muted mb-3 small",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:(null==e?void 0:e.descricao)||"Sem descri\xe7\xe3o dispon\xedvel"}),(0,t.jsxs)("div",{className:"row g-2 mb-3",children:[(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsxs)("div",{className:"text-success fw-bold",children:[(0,t.jsx)("i",{className:"fa fa-coins me-1"}),"R$ ",Number((null==e?void 0:e.valor_unitario)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsx)("small",{className:"text-muted",children:"Por token"})]})}),(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsxs)("div",{className:"text-primary fw-bold",children:[(0,t.jsx)("i",{className:"fa fa-calculator me-1"}),(((null==e?void 0:e.qtd_tokens)||0)*((null==e?void 0:e.valor_unitario)||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),(0,t.jsx)("small",{className:"text-muted",children:"Valor total"})]})})]}),(0,t.jsxs)("button",{className:"btn btn-primary w-100 d-flex align-items-center justify-content-center",onClick:()=>I(e),disabled:!(null==e?void 0:e.qtd_tokens)||(null==e?void 0:e.qtd_tokens)===0,children:[(0,t.jsx)("i",{className:"fa fa-store me-2"}),(null==e?void 0:e.qtd_tokens)&&(null==e?void 0:e.qtd_tokens)!==0?"Criar Oferta":"Sem tokens"]})]})]})},e.id))]}),h&&(0,t.jsx)("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.5)"},children:(0,t.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header bg-primary text-white",children:[(0,t.jsxs)("h5",{className:"modal-title d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-store me-2"}),"Criar Oferta de Venda"]}),(0,t.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:L})]}),(0,t.jsxs)("form",{onSubmit:B,children:[(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"row mb-4",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsx)("img",{src:(null==h?void 0:h.imagem_url)||"/assets/img/default-property.jpg",alt:null==h?void 0:h.titulo,className:"img-fluid rounded",style:{height:120,width:"100%",objectFit:"cover"},onError:e=>{e.target.src="/assets/img/default-property.jpg"}})}),(0,t.jsxs)("div",{className:"col-md-8",children:[(0,t.jsxs)("h6",{className:"fw-bold text-primary mb-2",children:[(0,t.jsx)("i",{className:"fa fa-home me-2"}),(null==h?void 0:h.titulo)||"Im\xf3vel"]}),(0,t.jsx)("p",{className:"text-muted small mb-2",children:(null==h?void 0:h.descricao)||"Sem descri\xe7\xe3o"}),(0,t.jsxs)("div",{className:"row g-2",children:[(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsx)("div",{className:"fw-bold text-success",children:(null==h?void 0:h.qtd_tokens)||0}),(0,t.jsx)("small",{className:"text-muted",children:"Tokens dispon\xedveis"})]})}),(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsxs)("div",{className:"fw-bold text-primary",children:["R$ ",Number((null==h?void 0:h.valor_unitario)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsx)("small",{className:"text-muted",children:"Valor unit\xe1rio"})]})})]})]})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,t.jsx)("small",{className:"text-muted fw-semibold",children:"Progresso do Formul\xe1rio"}),(0,t.jsx)("small",{className:"text-muted",children:v&&b&&0===Object.keys(S).length?"100%":v||b?"50%":"0%"})]}),(0,t.jsx)("div",{className:"progress bg-light",style:{height:"4px"},children:(0,t.jsx)("div",{className:"progress-bar ".concat(v&&b&&0===Object.keys(S).length?"bg-success":v||b?"bg-warning":"bg-light"),style:{width:v&&b&&0===Object.keys(S).length?"100%":v||b?"50%":"0%",transition:"width 0.3s ease"}})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"form-label fw-bold",children:[(0,t.jsx)("i",{className:"fa fa-cubes me-2 text-success"}),"Quantidade de tokens"]}),(0,t.jsx)("input",{type:"number",min:"1",max:(null==h?void 0:h.qtd_tokens)||0,value:v,onChange:e=>f(e.target.value),className:"form-control form-control-lg ".concat(S.qtdVenda?"is-invalid":v&&!S.qtdVenda?"is-valid":""),placeholder:"Ex: 10",required:!0}),S.qtdVenda?(0,t.jsxs)("div",{className:"invalid-feedback",children:[(0,t.jsx)("i",{className:"fa fa-exclamation-circle me-1"}),S.qtdVenda]}):(0,t.jsxs)("div",{className:"form-text",children:["M\xe1ximo: ",(null==h?void 0:h.qtd_tokens)||0," tokens dispon\xedveis"]})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"form-label fw-bold",children:[(0,t.jsx)("i",{className:"fa fa-coins me-2 text-warning"}),"Pre\xe7o por token"]}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>g(C(e.target.value)),className:"form-control form-control-lg ".concat(S.precoVenda?"is-invalid":b&&!S.precoVenda?"is-valid":""),placeholder:"R$ 0,00",required:!0}),S.precoVenda?(0,t.jsxs)("div",{className:"invalid-feedback",children:[(0,t.jsx)("i",{className:"fa fa-exclamation-circle me-1"}),S.precoVenda]}):(0,t.jsxs)("div",{className:"form-text",children:["Valor sugerido: R$ ",Number((null==h?void 0:h.valor_unitario)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),v&&b&&0===Object.keys(S).length&&(0,t.jsxs)("div",{className:"alert alert-info d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-calculator me-3 fs-4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fw-bold",children:"Resumo da Oferta"}),(0,t.jsxs)("div",{children:[v," tokens \xd7 ",b," = ",(0,t.jsx)("span",{className:"fw-bold text-primary",children:E()})]})]})]}),(0,t.jsx)("div",{className:"alert alert-warning",children:(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsx)("i",{className:"fa fa-info-circle me-2 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Importante:"}),(0,t.jsxs)("ul",{className:"mb-0 mt-1",children:[(0,t.jsx)("li",{children:"Sua oferta ser\xe1 listada no marketplace P2P"}),(0,t.jsx)("li",{children:"Voc\xea pode cancelar a oferta a qualquer momento"}),(0,t.jsx)("li",{children:"Os tokens ficam bloqueados at\xe9 a venda ou cancelamento"})]})]})]})})]}),(0,t.jsxs)("div",{className:"modal-footer bg-light",children:[(0,t.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:L,children:[(0,t.jsx)("i",{className:"fa fa-times me-2"}),"Cancelar"]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:j||Object.keys(S).length>0||!v||!b,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Criando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fa fa-check me-2"}),"Criar Oferta"]})})]})]})]})})})]})})}s(73038)},82427:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let t=s(91040).A.create({baseURL:"https://backend.ib3capital.app.br/api"});t.interceptors.request.use(e=>{{let a=localStorage.getItem("admin_token"),s=localStorage.getItem("token"),t=a||s;t&&(e.headers.Authorization="Bearer ".concat(t),a?e.baseURL="https://backend.ib3capital.app.br/api/admin":e.baseURL="https://backend.ib3capital.app.br/api/investor")}return e});let l=t},89090:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/p2p/new_offer",function(){return s(80624)}])},89099:(e,a,s)=>{e.exports=s(84294)}},e=>{var a=a=>e(e.s=a);e.O(0,[1040,636,6593,8792],()=>a(89090)),_N_E=e.O()}]);