(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2263],{36572:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/p2p/nova",function(){return a(45804)}])},45804:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(37876),l=a(14232),s=a(89099),o=a(82427);function u(){let e=(0,s.useRouter)(),[t,a]=(0,l.useState)(""),[u,n]=(0,l.useState)(""),[c,i]=(0,l.useState)(""),[p,d]=(0,l.useState)(null),m=async a=>{a.preventDefault();try{let a=localStorage.getItem("token"),r=null;if(a)try{let e=JSON.parse(atob(a.split(".")[1]));r=e.id||e.user_id||e.sub}catch(e){}let l={vendedor_id:r,id_imovel:Number(t),qtd_tokens:Number(u),valor_unitario:Number(c)};await o.A.post("/p2p/listings",l),e.push("/p2p/ofertas")}catch(e){console.error(e),d("Erro ao criar oferta"),alert("Erro ao criar oferta")}};return(0,r.jsxs)("div",{className:"p-4 max-w-md mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl mb-4",children:"Nova Oferta"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsx)("input",{className:"border p-2 w-full",placeholder:"ID do Im\xf3vel",value:t,onChange:e=>a(e.target.value)}),(0,r.jsx)("input",{className:"border p-2 w-full",placeholder:"Quantidade de tokens",value:u,onChange:e=>n(e.target.value)}),(0,r.jsx)("input",{className:"border p-2 w-full",placeholder:"Pre\xe7o por token",value:c,onChange:e=>i(e.target.value)}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 w-full",children:"Criar Oferta"}),p&&(0,r.jsx)("div",{className:"text-red-500 mt-2",children:p})]})]})}},82427:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(91040),l=a(65364);let s=r.A.create({baseURL:l.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000/api"});s.interceptors.request.use(e=>{{let t=localStorage.getItem("admin_token"),a=localStorage.getItem("token"),r=t||a;r&&(e.headers.Authorization="Bearer ".concat(r))}return e});let o=s},89099:(e,t,a)=>{e.exports=a(84294)}},e=>{var t=t=>e(e.s=t);e.O(0,[1040,636,6593,8792],()=>t(36572)),_N_E=e.O()}]);