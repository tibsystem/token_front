(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5807],{7443:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties",function(){return a(11219)}])},11219:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(37876),l=a(14232),i=a(48230),r=a.n(i),c=a(37562),n=a(42730),d=a(23230),o=a(59511);function m(){let[e,s]=(0,l.useState)([]),[a,i]=(0,l.useState)(null),[m,x]=(0,l.useState)(!0),[u,h]=(0,l.useState)(""),[j,N]=(0,l.useState)("todos"),[v,b]=(0,l.useState)("valor_desc"),[f,p]=(0,l.useState)("grid"),[g,y]=(0,l.useState)("todos"),[w,k]=(0,l.useState)(""),_=e=>{if(!e)return"-";try{let s=new Date(e);if(isNaN(s.getTime()))return e;return s.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(s){return e}};(0,l.useEffect)(()=>{(async()=>{try{x(!0);let e=await (0,c.o)();s(Array.isArray(e)?e:[]),x(!1)}catch(e){i("Erro ao carregar im\xf3veis."),x(!1)}})()},[]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{k(u)},300);return()=>clearTimeout(e)},[u]);let C=(0,l.useMemo)(()=>e.filter(e=>{var s,a;let t=!w||(null==e||null==(s=e.titulo)?void 0:s.toLowerCase().includes(w.toLowerCase()))||(null==e||null==(a=e.localizacao)?void 0:a.toLowerCase().includes(w.toLowerCase())),l="todos"===j||(null==e?void 0:e.status)===j,i=!0,r=(null==e?void 0:e.valor_total)||0;switch(g){case"ate_100k":i=r<=1e5;break;case"100k_500k":i=r>1e5&&r<=5e5;break;case"acima_500k":i=r>5e5;break;default:i=!0}return t&&l&&i}).sort((e,s)=>{switch(v){case"valor_desc":return(s.valor_total||0)-(e.valor_total||0);case"valor_asc":return(e.valor_total||0)-(s.valor_total||0);case"tokens_desc":return(s.qtd_tokens||0)-(e.qtd_tokens||0);case"titulo_asc":return(e.titulo||"").localeCompare(s.titulo||"");default:return 0}}),[e,w,j,g,v]),S=(0,l.useCallback)(()=>{h(""),N("todos"),y("todos"),b("valor_desc")},[]),A=e=>{switch(null==e?void 0:e.toLowerCase()){case"ativo":return"bg-success-subtle text-success";case"inativo":return"bg-danger-subtle text-danger";case"pendente":return"bg-warning-subtle text-warning";default:return"bg-secondary-subtle text-secondary"}},R=e=>"ativo"===e?"text-success":"text-muted",T=(0,l.useMemo)(()=>({total:e.length,ativo:e.filter(e=>"ativo"===e.status).length,tokens:e.reduce((e,s)=>e+(s.qtd_tokens||0),0),totalValue:e.reduce((e,s)=>e+(s.valor_total||0),0)}),[e]),z=(0,l.useMemo)(()=>""!==u||"todos"!==j||"todos"!==g||"valor_desc"!==v,[u,j,g,v]),F=u!==w;return(0,t.jsx)(o.A,{children:(0,t.jsxs)("div",{className:"px-4 py-5",children:[(0,t.jsx)(d.A,{items:[{label:"Im\xf3veis",href:"/properties"}]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 text-dark d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-building me-3 text-primary"}),"Oportunidades de Investimento"]}),(0,t.jsx)("p",{className:"text-muted fs-5 mb-0",children:"Diversifique seu portf\xf3lio com investimentos imobili\xe1rios tokenizados"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsxs)("div",{className:"badge bg-light text-dark fs-6 p-2",children:[(0,t.jsx)("i",{className:"fa fa-home me-2"}),T.total," propriedades"]}),(0,t.jsxs)("div",{className:"badge bg-success-subtle text-success fs-6 p-2",children:[(0,t.jsx)("i",{className:"fa fa-chart-line me-2"}),"IPCA + 14% a.a."]})]})]}),m&&(0,t.jsx)("div",{className:"text-center py-5",children:(0,t.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Carregando..."})})}),a&&(0,t.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,t.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),(0,t.jsx)("div",{children:a})]}),!m&&0===e.length&&!a&&(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("i",{className:"fa fa-building empty-state-icon"})}),(0,t.jsx)("h3",{className:"text-muted mb-3",children:"Nenhuma propriedade dispon\xedvel"}),(0,t.jsx)("p",{className:"text-muted mb-4",children:"Em breve novas oportunidades de investimento estar\xe3o dispon\xedveis."}),(0,t.jsxs)("button",{className:"btn btn-outline-primary",onClick:()=>window.location.reload(),children:[(0,t.jsx)("i",{className:"fa fa-refresh me-2"}),"Atualizar P\xe1gina"]})]}),!m&&e.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"row mb-4 g-3",children:[(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 bg-primary-subtle",children:(0,t.jsxs)("div",{className:"card-body text-center py-3",children:[(0,t.jsx)("i",{className:"fa fa-building text-primary fs-2 mb-2"}),(0,t.jsx)("div",{className:"fw-bold fs-4 text-primary",children:T.total}),(0,t.jsx)("small",{className:"text-muted",children:"Propriedades"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 bg-success-subtle",children:(0,t.jsxs)("div",{className:"card-body text-center py-3",children:[(0,t.jsx)("i",{className:"fa fa-check-circle text-success fs-2 mb-2"}),(0,t.jsx)("div",{className:"fw-bold fs-4 text-success",children:T.ativo}),(0,t.jsx)("small",{className:"text-muted",children:"Dispon\xedveis"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 bg-warning-subtle",children:(0,t.jsxs)("div",{className:"card-body text-center py-3",children:[(0,t.jsx)("i",{className:"fa fa-coins text-warning fs-2 mb-2"}),(0,t.jsx)("div",{className:"fw-bold fs-4 text-warning",children:T.tokens.toLocaleString()}),(0,t.jsx)("small",{className:"text-muted",children:"Tokens Totais"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 bg-info-subtle",children:(0,t.jsxs)("div",{className:"card-body text-center py-3",children:[(0,t.jsx)("i",{className:"fa fa-chart-line text-info fs-2 mb-2"}),(0,t.jsx)("div",{className:"fw-bold fs-4 text-info",children:"14%"}),(0,t.jsx)("small",{className:"text-muted",children:"Rentabilidade"})]})})})]}),(0,t.jsxs)("div",{className:"row mb-4 g-3",children:[(0,t.jsx)("div",{className:"col-lg-4",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)("i",{className:"fa fa-search text-muted"})}),(0,t.jsx)("input",{type:"text",className:"form-control border-start-0",placeholder:"Buscar por t\xedtulo ou localiza\xe7\xe3o...",value:u,onChange:e=>h(e.target.value),title:"Digite para buscar propriedades por nome ou localiza\xe7\xe3o"}),u&&(0,t.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>h(""),title:"Limpar busca",children:(0,t.jsx)("i",{className:"fa fa-times"})})]})}),(0,t.jsx)("div",{className:"col-lg-2",children:(0,t.jsxs)("select",{className:"form-select ".concat("todos"!==j?"border-success bg-success-subtle":""),value:j,onChange:e=>N(e.target.value),title:"Filtrar por status",children:[(0,t.jsx)("option",{value:"todos",children:"Todos Status"}),(0,t.jsx)("option",{value:"ativo",children:"Ativo"}),(0,t.jsx)("option",{value:"inativo",children:"Inativo"}),(0,t.jsx)("option",{value:"pendente",children:"Pendente"})]})}),(0,t.jsx)("div",{className:"col-lg-2",children:(0,t.jsxs)("select",{className:"form-select ".concat("todos"!==g?"border-warning bg-warning-subtle":""),value:g,onChange:e=>y(e.target.value),title:"Filtrar por faixa de valor",children:[(0,t.jsx)("option",{value:"todos",children:"Todas Faixas"}),(0,t.jsx)("option",{value:"ate_100k",children:"At\xe9 R$ 100k"}),(0,t.jsx)("option",{value:"100k_500k",children:"R$ 100k - 500k"}),(0,t.jsx)("option",{value:"acima_500k",children:"Acima R$ 500k"})]})}),(0,t.jsx)("div",{className:"col-lg-2",children:(0,t.jsxs)("select",{className:"form-select ".concat("valor_desc"!==v?"border-info bg-info-subtle":""),value:v,onChange:e=>b(e.target.value),title:"Ordenar propriedades",children:[(0,t.jsx)("option",{value:"valor_desc",children:"Maior Valor"}),(0,t.jsx)("option",{value:"valor_asc",children:"Menor Valor"}),(0,t.jsx)("option",{value:"tokens_desc",children:"Mais Tokens"}),(0,t.jsx)("option",{value:"titulo_asc",children:"Nome (A-Z)"})]})}),(0,t.jsx)("div",{className:"col-lg-2",children:(0,t.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,t.jsx)("button",{type:"button",className:"btn ".concat("grid"===f?"btn-primary":"btn-outline-primary"),onClick:()=>p("grid"),title:"Visualiza\xe7\xe3o em grade",children:(0,t.jsx)("i",{className:"fa fa-th"})}),(0,t.jsx)("button",{type:"button",className:"btn ".concat("list"===f?"btn-primary":"btn-outline-primary"),onClick:()=>p("list"),title:"Visualiza\xe7\xe3o em lista",children:(0,t.jsx)("i",{className:"fa fa-list"})})]})})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsx)("small",{className:"text-muted d-flex align-items-center",children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"",role:"status"}),"Buscando..."]}):(0,t.jsxs)(t.Fragment,{children:["Mostrando ",C.length," de ",T.total," propriedades",z&&(0,t.jsx)("i",{className:"fa fa-filter ms-2 text-primary",title:"Filtros ativos"})]})}),(0,t.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[w&&(0,t.jsxs)("span",{className:"badge bg-primary-subtle text-primary",children:[(0,t.jsx)("i",{className:"fa fa-search me-1"}),'"',w,'"',(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>h(""),title:"Remover busca",children:(0,t.jsx)("i",{className:"fa fa-times"})})]}),"todos"!==j&&(0,t.jsxs)("span",{className:"badge bg-success-subtle text-success",children:[(0,t.jsx)("i",{className:"fa fa-filter me-1"}),"Status: ",j,(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>N("todos"),title:"Remover filtro de status",children:(0,t.jsx)("i",{className:"fa fa-times"})})]}),"todos"!==g&&(0,t.jsxs)("span",{className:"badge bg-warning-subtle text-warning",children:[(0,t.jsx)("i",{className:"fa fa-coins me-1"}),"ate_100k"===g&&"At\xe9 R$ 100k","100k_500k"===g&&"R$ 100k - 500k","acima_500k"===g&&"Acima R$ 500k",(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>y("todos"),title:"Remover filtro de valor",children:(0,t.jsx)("i",{className:"fa fa-times"})})]}),"valor_desc"!==v&&(0,t.jsxs)("span",{className:"badge bg-info-subtle text-info",children:[(0,t.jsx)("i",{className:"fa fa-sort me-1"}),"valor_asc"===v&&"Menor Valor","tokens_desc"===v&&"Mais Tokens","titulo_asc"===v&&"Nome A-Z",(0,t.jsx)("button",{className:"btn btn-link p-0 ms-1",style:{fontSize:"0.7rem",color:"inherit"},onClick:()=>b("valor_desc"),title:"Resetar ordena\xe7\xe3o",children:(0,t.jsx)("i",{className:"fa fa-times"})})]})]})]}),z&&(0,t.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:S,title:"Limpar todos os filtros",children:[(0,t.jsx)("i",{className:"fa fa-times me-1"}),"Limpar Tudo"]})]})]}),(0,t.jsxs)("div",{className:"grid"===f?"row g-4":"row g-3",children:[m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.vN,{}),(0,t.jsx)(n.vN,{}),(0,t.jsx)(n.vN,{}),(0,t.jsx)(n.vN,{})]}),!m&&T.total>0&&0===C.length&&(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("i",{className:"fa fa-search-minus text-muted empty-state-icon"})}),(0,t.jsx)("h3",{className:"text-muted mb-3",children:z?"Nenhum resultado encontrado":"Nenhuma propriedade dispon\xedvel"}),(0,t.jsx)("p",{className:"text-muted mb-4",children:z?w?'N\xe3o encontramos propriedades com "'.concat(w,'". Tente outros termos de busca.'):"Tente ajustar os filtros para encontrar propriedades.":"N\xe3o h\xe1 propriedades que correspondam aos crit\xe9rios atuais."}),z&&(0,t.jsxs)("button",{className:"btn btn-primary",onClick:S,children:[(0,t.jsx)("i",{className:"fa fa-refresh me-2"}),"Limpar Todos os Filtros"]}),z&&w&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("small",{className:"text-muted",children:'\uD83D\uDCA1 Dica: Tente termos mais gerais como "apartamento", "casa" ou verifique a ortografia'})})]})}),!m&&C.map(e=>"grid"===f?(0,t.jsx)("div",{className:"col-xl-4 col-lg-6",children:(0,t.jsxs)("div",{className:"card h-100 shadow-sm border-0 rounded-4 overflow-hidden hover-card",children:[(0,t.jsxs)("div",{className:"position-relative",children:[(0,t.jsx)("img",{src:"/assets/img/theme/default.jpg",alt:"Imagem do im\xf3vel",className:"card-img-top",style:{height:"200px",objectFit:"cover"},onError:e=>{e.target.src="/assets/img/theme/default.jpg"}}),(0,t.jsx)("div",{className:"position-absolute top-0 end-0 m-3",children:(0,t.jsxs)("span",{className:"badge ".concat(A(e.status)," px-2 py-1"),children:[(0,t.jsx)("i",{className:"fa fa-circle me-1",style:{fontSize:"0.5rem"}}),e.status]})}),(0,t.jsx)("div",{className:"position-absolute bottom-0 start-0 end-0 bg-gradient-to-top p-3",children:(0,t.jsx)("h5",{className:"fw-bold text-white text-shadow mb-0",children:e.titulo})})]}),(0,t.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,t.jsx)("p",{className:"text-muted fs-6 mb-3",children:"Direito de recebimento de antecipa\xe7\xf5es do segmento imobili\xe1rio"}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,t.jsx)("small",{className:"text-muted fw-semibold",children:"N\xedvel de Garantia"}),(0,t.jsx)("small",{className:"text-success fw-bold",children:"N\xedvel 3"})]}),(0,t.jsx)("div",{className:"progress bg-light",style:{height:"6px"},children:(0,t.jsx)("div",{className:"progress-bar bg-success",style:{width:"60%"}})})]}),(0,t.jsxs)("div",{className:"row g-2 mb-3",children:[(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsx)("div",{className:"fw-bold ".concat(R(e.status)),children:"IPCA + 14%"}),(0,t.jsx)("small",{className:"text-muted",children:"a.a."})]})}),(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("div",{className:"bg-light rounded p-2 text-center",children:[(0,t.jsx)("div",{className:"text-primary fw-bold",children:"R$ 1.000"}),(0,t.jsx)("small",{className:"text-muted",children:"M\xedn."})]})})]}),(0,t.jsxs)("div",{className:"d-flex flex-column gap-2 mb-3 text-muted fs-6",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-map-marker-alt me-2 text-primary",style:{width:"16px"}}),(0,t.jsx)("span",{className:"text-truncate",children:e.localizacao})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-coins me-2 text-warning",style:{width:"16px"}}),(0,t.jsxs)("span",{children:["R$ ",Number(e.valor_total).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-cubes me-2 text-secondary",style:{width:"16px"}}),(0,t.jsxs)("span",{children:[e.qtd_tokens," tokens"]})]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("i",{className:"fa fa-calendar-alt me-2 text-info",style:{width:"16px"}}),(0,t.jsxs)("span",{children:["Tokenizado em ",_(e.data_tokenizacao)]})]})]}),(0,t.jsxs)(r(),{href:"/properties/".concat(e.id),className:"btn ".concat("ativo"===e.status?"btn-primary":"btn-outline-secondary"," mt-auto w-100 d-flex align-items-center justify-content-center"),children:[(0,t.jsx)("i",{className:"fa fa-calculator me-2"}),"ativo"===e.status?"Simular Investimento":"Ver Detalhes"]})]})]})},e.id):(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm rounded-3 hover-card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row align-items-center",children:[(0,t.jsx)("div",{className:"col-md-2",children:(0,t.jsx)("img",{src:"/assets/img/theme/default.jpg",alt:"Imagem do im\xf3vel",className:"img-fluid rounded",style:{height:"80px",width:"100%",objectFit:"cover"},onError:e=>{e.target.src="/assets/img/theme/default.jpg"}})}),(0,t.jsxs)("div",{className:"col-md-4",children:[(0,t.jsx)("h5",{className:"fw-bold text-dark mb-1",children:e.titulo}),(0,t.jsxs)("div",{className:"d-flex align-items-center text-muted mb-1",children:[(0,t.jsx)("i",{className:"fa fa-map-marker-alt me-2 text-primary"}),(0,t.jsx)("span",{children:e.localizacao})]}),(0,t.jsx)("span",{className:"badge ".concat(A(e.status)),children:e.status})]}),(0,t.jsxs)("div",{className:"col-md-2 text-center",children:[(0,t.jsx)("div",{className:"text-success fw-bold",children:"IPCA + 14%"}),(0,t.jsx)("small",{className:"text-muted",children:"a.a."})]}),(0,t.jsxs)("div",{className:"col-md-2 text-center",children:[(0,t.jsxs)("div",{className:"fw-bold",children:["R$ ",Number(e.valor_total).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsxs)("small",{className:"text-muted",children:[e.qtd_tokens," tokens"]})]}),(0,t.jsx)("div",{className:"col-md-2",children:(0,t.jsx)(r(),{href:"/properties/".concat(e.id),className:"btn ".concat("ativo"===e.status?"btn-primary":"btn-outline-secondary"," w-100"),children:"ativo"===e.status?"Investir":"Ver"})})]})})})},e.id))]})]})})}a(73038)},37562:(e,s,a)=>{"use strict";a.d(s,{o:()=>l});var t=a(82427);async function l(){try{return(await t.A.get("/properties")).data}catch(e){throw e}}},73038:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[1040,9489,636,6593,8792],()=>s(7443)),_N_E=e.O()}]);