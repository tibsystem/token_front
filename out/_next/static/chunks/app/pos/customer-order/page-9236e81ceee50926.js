(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6981],{32433:(e,a,s)=>{Promise.resolve().then(s.bind(s,51643))},51643:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(95155),i=s(6874),l=s.n(i),n=s(12115),d=s(33118),r=s.n(d),c=s(66323),o=s(77347);function m(){let{updateSettings:e}=(0,c.I)(),[a,s]=(0,n.useState)(!1),[i,d]=(0,n.useState)("all"),[m,p]=(0,n.useState)(void 0),[x,h]=(0,n.useState)([]),[u,b]=(0,n.useState)([]),[j,v]=(0,n.useState)(void 0),[N,f]=(0,n.useState)(void 0),[g,y]=(0,n.useState)(1),[w,S]=(0,n.useState)("Small"),[k,C]=(0,n.useState)([]),I=(e,a)=>{if(e.preventDefault(),m&&m.food){for(let e=0;e<m.food.length;e++)m.food[e].type===a||"all"===a?m.food[e].hide=!1:m.food[e].hide=!0;p(m),d(a)}},F=(e,a)=>{e.preventDefault(),a.available&&(f(a),y(1),C([]),j&&j.show())},T=()=>x?x.length:0,H=(e,a)=>{e.preventDefault(),x&&h(x.map(e=>{if(e.id===a){let a=parseInt(e.quantity.toString(),10)-1;return a<1&&(a=1),{...e,quantity:a}}return e}))},E=(e,a)=>{e.preventDefault(),x&&h(x.map(e=>{if(e.id===a){let a=parseInt(e.quantity.toString(),10)+1;return{...e,quantity:a}}return e}))},q=(e,a,s)=>{e.preventDefault(),x&&h(x.map(e=>e.id===a?{...e,confirmation:s}:e))},D=(e,a)=>{e.preventDefault(),x&&h(x.filter(function(e){return e.id!==a}))},M=e=>{e.preventDefault(),g&&y(parseInt(g.toString(),10)+1)},z=e=>{if(e.preventDefault(),g){let e=parseInt(g.toString(),10)-1;e<1&&(e=1),y(e)}},A=e=>{let a="";e.target.checked&&(a=e.target.value),S(a)},O=e=>{e.preventDefault();let a=Array.from(document.querySelectorAll('input[name="addon"]')),s=[];a.forEach(e=>{e.checked&&s.push(e.value)}),C(s)},P=e=>{e.preventDefault(),j&&j.hide();let a=[];if(w&&a.push({key:"size",value:w}),k)for(let e=0;e<k.length;e++){let s={key:"addon",value:k[e]};a.push(s)}setTimeout(()=>{let e=m?m.order.length+1:1,s=N?N.image:"";h([...x,{id:e,image:s,title:N?N.title:"",price:N?N.price:"",quantity:g,options:a}])},500)};return(0,n.useEffect)(()=>{let a=new AbortController,{signal:s}=a;e({appHeaderNone:!0,appSidebarNone:!0,appContentFullHeight:!0,appContentClass:"p-0"});let t=setInterval(()=>{let e=document.getElementById("modalPosItem");e&&window&&window.bootstrap&&(v(new window.bootstrap.Modal(e)),clearInterval(t))},100);return(async()=>{try{let e=await fetch("/assets/data/pos/customer-order.json",{signal:s});if(!e.ok)throw Error("Failed to fetch data (HTTP ".concat(e.status,")"));let a=await e.json();p(a),h(a.order),b(a.history)}catch(e){e instanceof Error&&"AbortError"!==e.name&&console.error("Error fetching customer order data:",e)}})(),()=>{a.abort(),clearInterval(t),e({appHeaderNone:!1,appSidebarNone:!1,appContentFullHeight:!1,appContentClass:""})}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"pos pos-with-menu pos-with-sidebar "+(a?"pos-mobile-sidebar-toggled":""),id:"pos",children:[(0,t.jsxs)("div",{className:"pos-menu",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsxs)(l(),{href:"/",children:[(0,t.jsx)("div",{className:"logo-img",children:(0,t.jsx)("i",{className:"fa fa-bowl-rice"})}),(0,t.jsx)("div",{className:"logo-text",children:"Pine & Dine"})]})}),(0,t.jsx)("div",{className:"nav-container",children:(0,t.jsx)(r(),{className:"h-100",children:(0,t.jsx)("ul",{className:"nav nav-tabs",children:m&&m.category&&m.category.map((e,a)=>(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("a",{className:"nav-link"+(e.type===i?" active":""),onClick:a=>I(a,e.type),href:"#/",children:[(0,t.jsx)("div",{className:"nav-icon",children:(0,t.jsx)("i",{className:e.icon})}),(0,t.jsx)("div",{className:"nav-text",children:e.text})]})},a))})})})]}),(0,t.jsx)("div",{className:"pos-content",children:(0,t.jsx)("div",{className:"pos-content-container h-100",children:(0,t.jsx)("div",{className:"product-row",children:m&&m.food?m.food.map((e,a)=>(0,t.jsx)("div",{className:"product-container"+(e.hide?" d-none":""),children:(0,t.jsxs)("a",{href:"#/",className:"product"+(e.available?"":" not-available"),onClick:a=>F(a,e),children:[(0,t.jsx)("div",{className:"img",style:{backgroundImage:"url("+e.image+")"}}),(0,t.jsxs)("div",{className:"text",children:[(0,t.jsx)("div",{className:"title",children:e.title}),(0,t.jsx)("div",{className:"desc",children:e.description}),(0,t.jsxs)("div",{className:"price",children:["$",e.price]})]}),!e.available&&(0,t.jsx)("div",{className:"not-available-text",children:(0,t.jsx)("div",{children:"Not Available"})})]})},a)):(0,t.jsx)("div",{className:"py-3",children:"No records found"})})})}),(0,t.jsx)("div",{className:"pos-sidebar",id:"pos-sidebar",children:(0,t.jsxs)("div",{className:"h-100 d-flex flex-column p-0",children:[(0,t.jsxs)("div",{className:"pos-sidebar-header",children:[(0,t.jsx)("div",{className:"back-btn",children:(0,t.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),s(!1)},className:"btn",children:(0,t.jsx)("i",{className:"fa fa-chevron-left"})})}),(0,t.jsx)("div",{className:"icon",children:(0,t.jsx)("i",{className:"fa fa-plate-wheat"})}),(0,t.jsxs)("div",{className:"title",children:["Table ",m&&m.tableNo&&m.tableNo]}),(0,t.jsxs)("div",{className:"order",children:["Order: ",(0,t.jsx)("b",{children:m&&m.orderNo&&m.orderNo})]})]}),(0,t.jsx)("div",{className:"pos-sidebar-nav",children:(0,t.jsxs)("ul",{className:"nav nav-tabs nav-fill",children:[(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("a",{className:"nav-link active",href:"#/","data-bs-toggle":"tab","data-bs-target":"#newOrderTab",children:["New Order (",T(),")"]})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("a",{className:"nav-link",href:"#/","data-bs-toggle":"tab","data-bs-target":"#orderHistoryTab",children:["Order History (",u?u.length:0,")"]})})]})}),(0,t.jsxs)(r(),{className:"pos-sidebar-body tab-content h-100",children:[(0,t.jsx)("div",{className:"tab-pane fade h-100 show active",id:"newOrderTab",children:(0,t.jsx)("div",{className:"pos-table",children:x&&x.length>0?x.map((e,a)=>(0,t.jsxs)("div",{className:"row pos-table-row",children:[(0,t.jsx)("div",{className:"col-9",children:(0,t.jsxs)("div",{className:"pos-product-thumb",children:[(0,t.jsx)("div",{className:"img",style:{backgroundImage:"url("+e.image+")"}}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("div",{className:"title",children:e.title}),(0,t.jsxs)("div",{className:"single-price",children:["$",e.price]}),(0,t.jsx)("div",{className:"desc",children:e.options&&e.options.map((e,a)=>(0,t.jsxs)("div",{children:["- ",e.key,": ",e.value]},a))}),(0,t.jsxs)("div",{className:"input-group qty",children:[(0,t.jsx)("div",{className:"input-group-append",children:(0,t.jsx)("a",{href:"#/",className:"btn btn-default",onClick:a=>H(a,e.id),children:(0,t.jsx)("i",{className:"fa fa-minus"})})}),(0,t.jsx)("input",{type:"text",className:"form-control",value:e.quantity,readOnly:!0}),(0,t.jsx)("div",{className:"input-group-prepend",children:(0,t.jsx)("a",{href:"#/",className:"btn btn-default",onClick:a=>E(a,e.id),children:(0,t.jsx)("i",{className:"fa fa-plus"})})})]})]})]})}),(0,t.jsxs)("div",{className:"col-3 total-price d-flex flex-column",children:[(0,t.jsxs)("div",{children:["$",(Number(e.price)*Number(e.quantity)).toFixed(2)]}),(0,t.jsx)("div",{className:"text-end mt-auto",children:(0,t.jsx)("button",{onClick:a=>q(a,e.id,!0),className:"btn btn-sm btn-outline-gray-500",children:(0,t.jsx)("i",{className:"fa fa-trash"})})})]}),e.confirmation&&(0,t.jsx)("div",{className:"pos-remove-confirmation",children:(0,t.jsxs)("div",{className:"text-center mx-auto",children:[(0,t.jsx)("div",{children:(0,t.jsx)("i",{className:"far fa-trash-can fa-2x text-body text-opacity-50"})}),(0,t.jsx)("div",{className:"mt-1 mb-2",children:"Confirm to remove this item? "}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:a=>q(a,e.id,!1),className:"btn btn-default w-60px me-2",children:"No"}),(0,t.jsx)("button",{onClick:a=>D(a,e.id),className:"btn btn-danger w-60px",children:"Yes"})]})]})})]},a)):(0,t.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center text-center p-20",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-3 mt-n5",children:(0,t.jsx)("i",{className:"bi bi-bag",style:{fontSize:"6em"}})}),(0,t.jsx)("h5",{children:"No order found"})]})})})}),(0,t.jsx)("div",{className:"tab-pane fade h-100",id:"orderHistoryTab",children:(0,t.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center text-center p-20",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-3 mt-n5",children:(0,t.jsxs)("svg",{width:"6em",height:"6em",viewBox:"0 0 16 16",className:"text-gray-300",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M14 5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5zM1 4v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4H1z"}),(0,t.jsx)("path",{d:"M8 1.5A2.5 2.5 0 0 0 5.5 4h-1a3.5 3.5 0 1 1 7 0h-1A2.5 2.5 0 0 0 8 1.5z"})]})}),(0,t.jsx)("h5",{children:"No order history found"})]})})})]}),(0,t.jsxs)("div",{className:"pos-sidebar-footer",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,t.jsx)("div",{children:"Subtotal"}),(0,t.jsxs)("div",{className:"flex-1 text-end h6 mb-0",children:["$",(()=>{let e=0;if(x)for(let a=0;a<x.length;a++)e+=parseFloat(x[a].price)*parseInt(x[a].quantity.toString(),10);return e.toFixed(2)})()]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("div",{children:"Taxes (6%)"}),(0,t.jsxs)("div",{className:"flex-1 text-end h6 mb-0",children:["$",(()=>{let e=0;if(x)for(let a=0;a<x.length;a++)e+=parseFloat(x[a].price)*parseInt(x[a].quantity.toString(),10)*.06;return e.toFixed(2)})()]})]}),(0,t.jsx)("hr",{className:"opacity-1 my-10px"}),(0,t.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,t.jsx)("div",{children:"Total"}),(0,t.jsxs)("div",{className:"flex-1 text-end h4 mb-0",children:["$",(()=>{let e=0;if(x)for(let a=0;a<x.length;a++)e+=parseFloat(x[a].price)*parseInt(x[a].quantity.toString(),10)+parseFloat(x[a].price)*parseInt(x[a].quantity.toString(),10)*.06;return e.toFixed(2)})()]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center mt-3",children:[(0,t.jsxs)("button",{className:"btn btn-default rounded-3 text-center me-10px w-70px",children:[(0,t.jsx)("i",{className:"fa fa-bell d-block fs-18px my-1"})," Service"]}),(0,t.jsxs)("button",{className:"btn btn-default rounded-3 text-center me-10px w-70px",children:[(0,t.jsx)("i",{className:"fa fa-receipt d-block fs-18px my-1"})," Bill"]}),(0,t.jsxs)("button",{className:"btn btn-theme rounded-3 text-center flex-1",children:[(0,t.jsx)("i",{className:"fa fa-shopping-cart d-block fs-18px my-1"})," Submit Order"]})]})]})]})})]}),(0,t.jsxs)("a",{href:"#/",className:"pos-mobile-sidebar-toggler",onClick:e=>{e.preventDefault(),s(!0)},children:[(0,t.jsx)(o.Icon,{className:"iconify display-6",icon:"solar:bag-smile-bold-duotone"}),(0,t.jsx)("span",{className:"badge",children:T()})]}),(0,t.jsx)("div",{className:"modal modal-pos fade",id:"modalPosItem",children:(0,t.jsx)("div",{className:"modal-dialog modal-lg",children:(0,t.jsxs)("div",{className:"modal-content border-0",children:[(0,t.jsx)("button",{"data-bs-dismiss":"modal",className:"btn-close position-absolute top-0 end-0 m-4",children:"\xa0"}),(0,t.jsx)("div",{className:"modal-pos-product",children:N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"modal-pos-product-img",children:(0,t.jsx)("div",{className:"img",style:{backgroundImage:"url("+N.image+")"}})}),(0,t.jsxs)("div",{className:"modal-pos-product-info",children:[(0,t.jsx)("div",{className:"fs-4 fw-bold",children:N.title}),(0,t.jsx)("div",{className:"fs-6 text-body text-opacity-50 mb-2",children:N.description}),(0,t.jsxs)("div",{className:"fs-3 fw-bolder mb-3",children:["$",N.price]}),(0,t.jsx)("div",{className:"option-row",children:(0,t.jsxs)("div",{className:"d-flex mb-3",children:[(0,t.jsx)("button",{className:"btn btn-default d-flex align-items-center",onClick:e=>z(e),children:(0,t.jsx)("i",{className:"fa fa-minus"})}),(0,t.jsx)("input",{type:"text",value:g,readOnly:!0,className:"form-control w-30px fw-bold fs-5 px-0 mx-2 text-center border-0"}),(0,t.jsx)("button",{className:"btn btn-default d-flex align-items-center",onClick:e=>M(e),children:(0,t.jsx)("i",{className:"fa fa-plus"})})]})}),(0,t.jsx)("hr",{className:"mx-n4"}),N&&N.options&&N.options.size&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"fw-bold",children:"Size:"}),(0,t.jsx)("div",{className:"option-list",children:N.options.size.map((e,a)=>(0,t.jsxs)("div",{className:"option",children:[(0,t.jsx)("input",{type:"radio",id:"size"+a,name:"size",className:"option-input",defaultValue:e.text,onChange:e=>A(e),defaultChecked:0===a}),(0,t.jsxs)("label",{className:"option-label",htmlFor:"size"+a,children:[(0,t.jsx)("span",{className:"option-text",children:e.text}),(0,t.jsxs)("span",{className:"option-price",children:["+",e.price]})]})]},a))})]}),N&&N.options&&N.options.addon&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"fw-bold",children:"Add On:"}),(0,t.jsx)("div",{className:"option-list",children:N.options.addon.map((e,a)=>(0,t.jsxs)("div",{className:"option",children:[(0,t.jsx)("input",{type:"checkbox",name:"addon",className:"option-input",onChange:e=>O(e),value:e.text,id:"addon"+a}),(0,t.jsxs)("label",{className:"option-label",htmlFor:"addon"+a,children:[(0,t.jsx)("span",{className:"option-text",children:e.text}),(0,t.jsxs)("span",{className:"option-price",children:["+",e.price]})]})]},a))})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"row gx-3",children:[(0,t.jsx)("div",{className:"col-4",children:(0,t.jsx)("a",{href:"#/",className:"btn btn-default fs-14px rounded-3 fw-bold mb-0 d-block py-3","data-bs-dismiss":"modal",children:"Cancel"})}),(0,t.jsx)("div",{className:"col-8",children:(0,t.jsxs)("a",{href:"#/",className:"btn btn-theme fs-14px rounded-3 fw-bold d-flex justify-content-center align-items-center py-3 m-0",onClick:e=>P(e),children:["Add to cart ",(0,t.jsx)("i",{className:"fa fa-plus ms-3"})]})})]})]})]})})]})})})]})}},66323:(e,a,s)=>{"use strict";s.d(a,{I:()=>r,S:()=>d});var t=s(95155),i=s(12115);let l={appTheme:"",appClass:"",appBoxedLayout:!1,appContentClass:"",appContentFullHeight:!1,appContentNone:!1,appHeaderNone:!1,appHeaderFixed:!0,appHeaderInverse:!1,appHeaderMegaMenu:!1,appHeaderLanguageBar:!1,appSidebarWide:!1,appSidebarTwo:!1,appSidebarHover:!1,appSidebarEnd:!1,appSidebarEndToggled:!1,appSidebarEndMobileToggled:!1,appSidebarSearch:!1,appSidebarFixed:!0,appSidebarGrid:!1,appSidebarNone:!1,appSidebarMobileToggled:!1,appSidebarMinified:!1,appSidebarInverse:!0,appSidebarLight:!1,appSidebarTransparent:!1,appFooter:!1,appTopMenu:!1,appTopMenuMobileToggled:!1,appGradientEnabled:!1},n=(0,i.createContext)(void 0),d=e=>{let{children:a}=e,[s,d]=(0,i.useState)(l);return(0,t.jsx)(n.Provider,{value:{settings:s,updateSettings:e=>{d(a=>({...a,...e}))}},children:a})},r=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useAppSettings must be used within an AppSettingsProvider");return e}}},e=>{var a=a=>e(e.s=a);e.O(0,[6874,3118,7347,8441,1684,7358],()=>a(32433)),_N_E=e.O()}]);